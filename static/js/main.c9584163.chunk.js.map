{"version":3,"sources":["utils/context.js","utils/storage.js","utils/AuthReducer.js","utils/axios.js","utils/config.js","hooks/useWallet.js","components/HeaderBar.js","components/animate_arrow/AnimateArrow.js","containers/Home.js","containers/NotFound.js","components/RoomListItem.js","components/LimitLengthTextField.js","components/AddRoomDialog.js","containers/Rooms.js","components/CollectionListItem.js","containers/Collections.js","containers/App.js","reportWebVitals.js","theme.js","index.js"],"names":["AuthContext","createContext","authState","isLoggedIn","walletAddr","authDispatcher","LoadingContext","isLoading","setIsLoading","LS_AUTH_TOKEN","CK_WALLET_ADDR","storage","Object","defineProperty","get","localStorage","getItem","set","value","setItem","cookie","load","save","path","clearAccountData","removeItem","remove","authStatusReducer","state","type","payload","console","log","token","AuthDispatcherAction","AUTO_SYNC","authToken","LOGIN","LOGOUT","instance","axios","create","baseURL","process","interceptors","request","use","config","headers","SimpleFormData","data","key","append","FormData","renewJwt","a","then","res","access_token","getPayload","login","signature","post","address","getCollections","offset","params","getRooms","createRoom","name","image","id","tezos","TezosToolkit","wallet","BeaconWallet","setWalletProvider","useWallet","useContext","useState","setWalletAddr","checkWalletConnection","client","getActiveAccount","activeAccount","addr","connectWallet","requestPermissions","permissions","requestSignPayload","signingType","SigningType","MICHELINE","signResult","HeaderBarLink","children","to","isCurrentPage","useLocation","pathname","theme","useTheme","isUpSm","useMediaQuery","breakpoints","up","Typography","color","sx","fontSize","mr","fontWeight","position","content","height","bottom","margin","left","right","width","backgroundColor","HeaderBar","AppBar","enableColorOnDark","Toolbar","style","src","alt","flexGrow","Button","variant","textTransform","onDoubleClick","slice","onClick","AnimateArrow","arrowNum","size","Box","top","transform","opacity","Array","from","length","map","v","i","component","display","borderBottomWidth","borderRightWidth","borderBottomStyle","borderRightStyle","borderColor","animation","animationDelay","Home","navigate","useNavigate","flexDirection","alignItems","justifyContent","textAlign","mt","padding","e","preventDefault","href","NotFound","objectFit","zIndex","RoomListItem","room","isSnackbarOpen","setIsSnackbarOpen","skeleton","isLoaded","setIsLoaded","Card","raised","aspectRatio","CardMedia","loading","onLoad","Skeleton","CardContent","pt","paddingBottom","mb","overflow","textOverflow","whiteSpace","Tooltip","title","arrow","followCursor","cursor","textDecoration","navigator","clipboard","writeText","placement","componentsProps","tooltip","marginBottom","IconButton","Snackbar","open","autoHideDuration","anchorOrigin","vertical","horizontal","onClose","useCallback","message","minWidth","pl","pr","LimitLengthTextField","props","limit","onChange","textFieldProps","_value","_setValue","isOnComposition","setIsOnComposition","textLen","setTextLen","_onChange","newValue","str","charArray","split","forEach","c","match","push","join","getLimitedString","target","len","TextField","inputProps","onCompositionStart","onCompositionEnd","onBlur","trim","helperText","AddRoomDialog","roomName","setRoomName","Dialog","PaperProps","DialogTitle","pb","DialogContent","DialogContentText","fullWidth","placeholder","DialogActions","alert","disabled","Rooms","roomList","setRoomList","isAddRoomDialogOpen","setIsAddRoomDialogOpen","gridProps","item","container","direction","xs","md","lg","xl","useEffect","rooms","catch","boxSizing","Grid","maxWidth","borderWidth","CollectionListItem","collection","thumbnailUri","displayUri","artifactUri","mimeType","includes","controls","loop","onLoadStart","Collections","collections","setCollections","count","setCount","location","query","URLSearchParams","search","page","parseInt","fetchCollections","tokens","sm","Pagination","borderRadius","palette","background","default","Math","ceil","renderItem","PaginationItem","Link","PrivateRoute","replace","App","useReducer","jwt","decode","Error","window","reload","scrollTo","behavior","checkLocalStorage","onJwtChanged","addEventListener","removeEventListener","Provider","Portal","document","body","Backdrop","scrollBehavior","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","darkTheme","responsiveFontSizes","createTheme","mode","common","black","white","primary","main","secondary","error","light","dark","contrastText","warning","info","success","grey","A100","A200","A400","A700","contrastThreshold","tonalOffset","text","icon","divider","popup","paper","action","active","hover","hoverOpacity","selected","selectedOpacity","disabledBackground","disabledOpacity","focus","focusOpacity","activatedOpacity","overrides","ReactDOM","createRoot","getElementById","render","ThemeProvider","StrictMode"],"mappings":"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","file":"static/js/main.c9584163.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport const AuthContext = createContext({\n  authState: {\n    isLoggedIn: false,\n    walletAddr: \"\",\n  },\n  authDispatcher: () => {},\n});\n\nexport const LoadingContext = createContext({\n  isLoading: false,\n  setIsLoading: () => {},\n});\n","import cookie from \"react-cookies\";\n/**\n * keys\n */\nexport const LS_AUTH_TOKEN = \"atk\";\nexport const CK_WALLET_ADDR = \"addr\";\n\nconst storage = {};\n\nObject.defineProperty(storage, \"authToken\", {\n  get: () => localStorage.getItem(LS_AUTH_TOKEN),\n  set: (value) => {\n    localStorage.setItem(LS_AUTH_TOKEN, value);\n  },\n});\n\nObject.defineProperty(storage, \"walletAddr\", {\n  get: () => cookie.load(CK_WALLET_ADDR),\n  set: (value) => {\n    cookie.save(CK_WALLET_ADDR, value, { path: \"/\" });\n  },\n});\n\nstorage.clearAccountData = () => {\n  localStorage.removeItem(LS_AUTH_TOKEN);\n  cookie.remove(CK_WALLET_ADDR);\n};\n\nexport default storage;\n","import storage from \"./storage\";\n\nconst authStatusReducer = (state, { type, payload }) => {\n  console.log(\"dispatcher got state: \", type);\n  let walletAddr = payload?.walletAddr ?? \"\";\n  let token = payload?.token;\n\n  switch (type) {\n    case AuthDispatcherAction.AUTO_SYNC:\n      if (token) {\n        storage.authToken = token;\n        return state;\n      } else {\n        return state;\n      }\n\n    case AuthDispatcherAction.LOGIN:\n      storage.authToken = token;\n      storage.walletAddr = walletAddr;\n      return {\n        isLoggedIn: true,\n        walletAddr,\n      };\n\n    case AuthDispatcherAction.LOGOUT:\n      storage.clearAccountData();\n      return {\n        isLoggedIn: false,\n        walletAddr: \"\",\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst AuthDispatcherAction = {\n  AUTO_SYNC: 0,\n  LOGIN: 1,\n  LOGOUT: 2,\n};\n\nexport { authStatusReducer, AuthDispatcherAction };\n","import axios from \"axios\";\nimport { SERVER_URL } from \"./config\";\nimport storage from \"./storage\";\n\nconst instance = axios.create({ baseURL: SERVER_URL });\n\ninstance.interceptors.request.use((config) => {\n  const token = storage.authToken;\n  config.headers[\"Authorization\"] = token ? `Bearer ${token}` : \"\";\n\n  return config;\n});\n\nclass SimpleFormData extends FormData {\n  constructor(data) {\n    super();\n    for (let key in data) {\n      this.append(key, data[key]);\n    }\n  }\n}\n\nexport const renewJwt = async () => {\n  return await instance.get(\"/renew_token\").then((res) => {\n    return res.data.access_token;\n  });\n};\n\nexport const getPayload = async (walletAddr) => {\n  return await instance.get(`/login/${walletAddr}/payload`).then((res) => {\n    return res.data.payload;\n  });\n};\n\nexport const login = async (walletAddr, signature) => {\n  return await instance\n    .post(\n      \"/login\",\n      new SimpleFormData({\n        address: walletAddr,\n        signature,\n      })\n    )\n    .then((res) => {\n      return res.data.access_token;\n    });\n};\n\nexport const getCollections = async ({ offset }) => {\n  return await instance\n    .get(\"/collections\", { params: { offset } })\n    .then((res) => {\n      return res.data;\n    });\n};\n\nexport const getRooms = async () => {\n  return await instance.get(\"/rooms\").then((res) => {\n    return res.data;\n  });\n};\n\nexport const createRoom = async (name, image) => {\n  return await instance\n    .post(\n      \"/rooms/create\",\n      new SimpleFormData({\n        name,\n        image: image ?? \"\",\n      })\n    )\n    .then((res) => {\n      return res.data.id;\n    });\n};\n","import \"dotenv/config\";\nconst { REACT_APP_SERVER_URL: SERVER_URL } = process.env;\nexport { SERVER_URL };\n","import { TezosToolkit } from \"@taquito/taquito\";\nimport { BeaconWallet } from \"@taquito/beacon-wallet\";\nimport { SigningType } from \"@airgap/beacon-sdk\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { getPayload, login } from \"../utils/axios\";\nimport { AuthContext, LoadingContext } from \"../utils/context\";\nimport { AuthDispatcherAction } from \"../utils/AuthReducer\";\nimport Utility from \"../utils/utility\";\n\nconst tezos = new TezosToolkit(\"https://mainnet-tezos.giganode.io\");\nconst wallet = new BeaconWallet({\n  name: \"D Showroom\",\n});\n\ntezos.setWalletProvider(wallet);\n\n/**\n *\n * @returns {{walletAddr: string, connectWallet: Promise, checkWalletConnection: Promise}}\n */\nconst useWallet = () => {\n  const { setIsLoading } = useContext(LoadingContext);\n  const { authState, authDispatcher } = useContext(AuthContext);\n  const [walletAddr, setWalletAddr] = useState(\"\");\n\n  const checkWalletConnection = async () => {\n    const activeAccount = await wallet.client.getActiveAccount();\n    if (activeAccount) {\n      let addr = activeAccount.address;\n      if (walletAddr === addr) {\n        console.log(\"Already connected: \", addr);\n      } else {\n        console.log(\"Another wallet connected: \", addr);\n      }\n    } else {\n      console.log(\"No wallet connnection!\");\n    }\n  };\n\n  const connectWallet = async () => {\n    setIsLoading(true);\n    try {\n      // Request Permission\n      console.log(\"Requesting permissions...\");\n      const permissions = await wallet.client.requestPermissions();\n\n      let addr = permissions.address;\n      setWalletAddr(addr);\n\n      // Get payload to sign\n      console.log(\"Get permission. Get payload...\");\n      const payload = await getPayload(addr);\n\n      // Signing\n      console.log(\"Get payload. Request signature...\");\n      const signResult = await wallet.client.requestSignPayload({\n        signingType: SigningType.MICHELINE,\n        payload,\n      });\n\n      // Login\n      console.log(\"Get signature. Try login...\");\n      await login(addr, signResult.signature).then((authToken) => {\n        console.log(\"Login suceed!\");\n        authDispatcher({\n          type: AuthDispatcherAction.LOGIN,\n          payload: {\n            walletAddr: addr,\n            token: authToken,\n          },\n        });\n      });\n    } catch (error) {\n      setWalletAddr(\"\");\n      console.log(\"Got error:\", error);\n    }\n    setIsLoading(false);\n  };\n\n  return { walletAddr, connectWallet, checkWalletConnection };\n};\n\nexport default useWallet;\n","import {\n  AppBar,\n  Button,\n  Toolbar,\n  Typography,\n  useMediaQuery,\n} from \"@mui/material\";\nimport { useCallback, useContext } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { AuthContext } from \"../utils/context\";\nimport { AuthDispatcherAction } from \"../utils/AuthReducer\";\nimport useWallet from \"../hooks/useWallet\";\nimport { useTheme } from \"@mui/material/styles\";\n\nconst HeaderBarLink = ({ children, to }) => {\n  const location = useLocation();\n  const isCurrentPage = location.pathname === to;\n  const theme = useTheme();\n  const isUpSm = useMediaQuery(theme.breakpoints.up(\"sm\"));\n\n  return (\n    <Link to={to}>\n      <Typography\n        color={isCurrentPage ? \"text.primary\" : \"text.secondary\"}\n        sx={{\n          fontSize: isUpSm ? \"1rem\" : \"0.75rem\",\n          mr: 4,\n          fontWeight: \"bold\",\n          position: \"relative\",\n          \"&::after\": isCurrentPage\n            ? {\n                position: \"absolute\",\n                content: \"''\",\n                height: 2,\n                bottom: -3,\n                margin: \"0 auto\",\n                left: 0,\n                right: 0,\n                width: \"100%\",\n                backgroundColor: \"text.primary\",\n              }\n            : {},\n        }}\n      >\n        {children}\n      </Typography>\n    </Link>\n  );\n};\n\nconst HeaderBar = () => {\n  const { authState, authDispatcher } = useContext(AuthContext);\n  const { connectWallet } = useWallet();\n  const theme = useTheme();\n  const isUpSm = useMediaQuery(theme.breakpoints.up(\"sm\"));\n\n  const onClickConnect = () => {\n    connectWallet();\n  };\n\n  const onClickLogout = () => {\n    authDispatcher({\n      type: AuthDispatcherAction.LOGOUT,\n    });\n  };\n\n  return (\n    <AppBar color=\"default\" enableColorOnDark>\n      <Toolbar>\n        <Link to=\"/\">\n          <img\n            style={{ height: isUpSm ? 48 : 40 }}\n            src={isUpSm ? \"/DSR-Editor/logo_full.svg\" : \"/DSR-Editor/logo.svg\"}\n            alt=\"D SHOWROOM\"\n          />\n        </Link>\n        <Typography sx={{ flexGrow: 1 }} />\n        {authState?.isLoggedIn ? (\n          <>\n            <HeaderBarLink to=\"/rooms\">Rooms</HeaderBarLink>\n            <HeaderBarLink to=\"/collections\">Collections</HeaderBarLink>\n            <Button\n              variant=\"outlined\"\n              sx={{ textTransform: \"none\" }}\n              onDoubleClick={onClickLogout}\n            >\n              {isUpSm\n                ? authState?.walletAddr?.slice(0, 5) +\n                  \"...\" +\n                  authState?.walletAddr?.slice(-5)\n                : \"...\" + authState?.walletAddr?.slice(-3)}\n            </Button>\n          </>\n        ) : (\n          <Button variant=\"outlined\" onClick={onClickConnect}>\n            Connect\n          </Button>\n        )}\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default HeaderBar;\n","import { Box } from \"@mui/material\";\n\nconst AnimateArrow = ({\n  arrowNum = 3,\n  size = 30,\n  color = \"primary.main\",\n  sx,\n}) => {\n  return (\n    <Box\n      sx={{\n        position: \"relative\",\n        width: (size * 1.414 * 7) / 6,\n        height:\n          ((size * 1.414 * 7) / 6) * (arrowNum / 2 + 0.5) +\n          size * ((2 / 3) * 1.414),\n        ...sx,\n      }}\n    >\n      <Box\n        sx={{\n          position: \"absolute\",\n          left: \"50%\",\n          top: \"40%\",\n          transform: \"translate(-50%, -50%)\",\n          \"@keyframes animate\": {\n            \"0%\": {\n              opacity: 0,\n              transform: `rotate(45deg) translate(${(-size * 2) / 3}px, ${\n                (-size * 2) / 3\n              }px)`,\n            },\n            \"50%\": {\n              opacity: 1,\n            },\n            \"100%\": {\n              opacity: 0,\n              transform: `rotate(45deg) translate(${(size * 2) / 3}px, ${\n                (size * 2) / 3\n              }px)`,\n            },\n          },\n        }}\n      >\n        {Array.from({ length: arrowNum }, () => ({})).map((v, i) => (\n          <Box\n            component=\"span\"\n            sx={{\n              display: \"block\",\n              width: size,\n              height: size,\n              borderBottomWidth: size / 6,\n              borderRightWidth: size / 6,\n              borderBottomStyle: \"solid\",\n              borderRightStyle: \"solid\",\n              borderColor: color,\n              transform: \"rotate(45deg)\",\n              margin: `${-size / 3}px`,\n              animation: \"animate 1.5s infinite\",\n              animationDelay: `${-0.2 * i}s`,\n            }}\n          ></Box>\n        ))}\n      </Box>\n    </Box>\n  );\n};\n\nexport default AnimateArrow;\n","import { Box, Button, Icon, Typography } from \"@mui/material\";\nimport { useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport useWallet from \"../hooks/useWallet\";\nimport { AuthContext } from \"../utils/context\";\nimport AnimateArrow from \"../components/animate_arrow/AnimateArrow\";\n\nconst Home = () => {\n  const navigate = useNavigate();\n  const { authState } = useContext(AuthContext);\n  const { connectWallet } = useWallet();\n\n  const onClickStart = (e) => {\n    navigate(\"/rooms\");\n    e.preventDefault();\n  };\n\n  return (\n    <Box\n      sx={{\n        height: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      <Typography\n        variant=\"h1\"\n        color=\"text.primary\"\n        sx={{ textAlign: \"center\" }}\n      >\n        Welcome to DSR.\n      </Typography>\n      <AnimateArrow\n        arrowNum={2}\n        size={20}\n        color=\"secondary.main\"\n        sx={{ mt: 2 }}\n      />\n      <Button\n        sx={{ textAlign: \"center\", padding: 2, mt: 2.5 }}\n        size=\"large\"\n        onClick={authState?.isLoggedIn ? onClickStart : connectWallet}\n        href=\"/rooms\"\n      >\n        <Typography variant=\"h5\">\n          {authState?.isLoggedIn ? \"Get Started\" : \"Connect to Start\"}\n        </Typography>\n      </Button>\n    </Box>\n  );\n};\n\nexport default Home;\n","import { Box, Typography } from \"@mui/material\";\n\nconst NotFound = () => {\n  return (\n    <Box\n      sx={{\n        width: \"100%\",\n        height: \"100%\",\n      }}\n    >\n      <Box\n        component=\"img\"\n        src=\"/DSR-Editor/images/test.jpg\"\n        sx={{\n          width: \"100%\",\n          height: \"100%\",\n          objectFit: \"cover\",\n          position: \"absolute\",\n          zIndex: -1,\n        }}\n      ></Box>\n      <Typography\n        variant=\"h2\"\n        color=\"text.primary\"\n        sx={{ textAlign: \"center\", mt: \"5%\", fontWeight: \"bold\" }}\n      >\n        Nothing here!!!\n      </Typography>\n    </Box>\n  );\n};\n\nexport default NotFound;\n","import {\n  Box,\n  Card,\n  CardContent,\n  CardMedia,\n  IconButton,\n  Skeleton,\n  Snackbar,\n  Tooltip,\n  Typography,\n} from \"@mui/material\";\nimport CopyIcon from \"@mui/icons-material/ContentCopyRounded\";\nimport EditIcon from \"@mui/icons-material/EditRounded\";\nimport DeleteIcon from \"@mui/icons-material/DeleteRounded\";\nimport { useCallback, useState } from \"react\";\n\nconst RoomListItem = ({ room }) => {\n  const { image, name, id } = room ?? {};\n  const [isSnackbarOpen, setIsSnackbarOpen] = useState(false);\n  const skeleton = !name;\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  const onClickCopy = () => {\n    navigator.clipboard.writeText(id).then(() => {\n      setIsSnackbarOpen(true);\n    });\n  };\n\n  return (\n    <>\n      <Card sx={{ width: 360, margin: 2 }} raised>\n        <Box\n          sx={{\n            width: \"100%\",\n            height: 210,\n            position: \"relative\",\n            aspectRatio: \"1\",\n            backgroundColor: \"background.paper\",\n          }}\n        >\n          {!skeleton && (\n            <CardMedia\n              component=\"img\"\n              loading=\"lazy\"\n              sx={{\n                objectFit: \"cover\",\n                width: \"100%\",\n                height: \"100%\",\n                zIndex: 1,\n                position: \"absolute\",\n                top: 0,\n              }}\n              onLoad={() => {\n                setIsLoaded(true);\n              }}\n              image={\n                (image?.length ?? 0) > 0\n                  ? image\n                  : \"/DSR-Editor/images/default.png\"\n              }\n            />\n          )}\n          {!isLoaded && (\n            <Skeleton\n              sx={{\n                zIndex: 0,\n                position: \"absolute\",\n                top: 0,\n              }}\n              variant=\"rectangular\"\n              width=\"100%\"\n              height=\"100%\"\n              animation=\"wave\"\n            />\n          )}\n        </Box>\n        <CardContent\n          sx={{\n            pt: 1,\n            \"&:last-child\": {\n              paddingBottom: 1.5,\n            },\n            position: \"relative\",\n          }}\n        >\n          <Typography\n            variant=\"h6\"\n            sx={{\n              mb: 0.5,\n              width: \"100%\",\n              overflow: \"hidden\",\n              textOverflow: \"ellipsis\",\n              whiteSpace: \"nowrap\",\n            }}\n          >\n            {skeleton ? <Skeleton /> : name}\n          </Typography>\n          {skeleton ? (\n            <Skeleton width=\"40%\" />\n          ) : (\n            <Tooltip title=\"Click to copy\" arrow followCursor>\n              <Typography\n                variant=\"body2\"\n                color=\"text.secondary\"\n                sx={{\n                  width: \"fit-content\",\n                  display: \"flex\",\n                  flexDirection: \"row\",\n                  alignItems: \"center\",\n                  cursor: \"pointer\",\n                  \"&:hover\": {\n                    color: \"text.primary\",\n                    textDecoration: \"underline dotted 2px\",\n                  },\n                }}\n                onClick={onClickCopy}\n              >\n                <CopyIcon fontSize=\"small\" sx={{ mr: 0.5 }} />\n                {id}\n              </Typography>\n            </Tooltip>\n          )}\n          {!skeleton && (\n            <>\n              <Tooltip\n                title=\"Delete\"\n                placement=\"top\"\n                arrow\n                componentsProps={{\n                  tooltip: {\n                    style: {\n                      marginBottom: 8,\n                    },\n                  },\n                }}\n              >\n                <IconButton\n                  color=\"error\"\n                  size=\"small\"\n                  sx={{ position: \"absolute\", right: 48, bottom: 8 }}\n                >\n                  <DeleteIcon />\n                </IconButton>\n              </Tooltip>\n              <Tooltip\n                title=\"Edit\"\n                placement=\"top\"\n                arrow\n                componentsProps={{\n                  tooltip: {\n                    style: {\n                      marginBottom: 8,\n                    },\n                  },\n                }}\n              >\n                <IconButton\n                  color=\"primary\"\n                  size=\"small\"\n                  sx={{ position: \"absolute\", right: 8, bottom: 8 }}\n                >\n                  <EditIcon />\n                </IconButton>\n              </Tooltip>\n            </>\n          )}\n        </CardContent>\n      </Card>\n      <Snackbar\n        open={isSnackbarOpen}\n        autoHideDuration={1000}\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n        onClose={useCallback(() => {\n          setIsSnackbarOpen(false);\n        }, [])}\n        message=\"Room ID copied\"\n        sx={{\n          \"& .MuiPaper-root\": {\n            minWidth: \"min-content\",\n            pl: 3,\n            pr: 3,\n          },\n        }}\n      />\n    </>\n  );\n};\n\nexport default RoomListItem;\n","import { TextField } from \"@mui/material\";\nimport { memo, useCallback, useMemo, useState } from \"react\";\n\n/**\n *\n * @param {TextFieldProps} props\n * @returns\n */\nconst LimitLengthTextField = (props) => {\n  const { limit = 32, value, onChange, ...textFieldProps } = props;\n\n  const [_value, _setValue] = useState(\"\");\n  const [isOnComposition, setIsOnComposition] = useState(false);\n  const [textLen, setTextLen] = useState(_value.length);\n\n  const getLimitedString = (str, limit) => {\n    const charArray = [];\n    str.split(\"\").forEach((c) => {\n      // eslint-disable-next-line no-control-regex\n      if (c.match(/[\\u0000-\\u00ff]/)) {\n        charArray.push(c);\n      } else {\n        charArray.push(\"\", c);\n      }\n    });\n\n    return charArray.slice(0, limit).join(\"\");\n  };\n\n  const _onChange = (e) => {\n    const newValue = getLimitedString(e.target.value, limit);\n    if (!isOnComposition) {\n      e.target.value = newValue;\n      let len = 0;\n      newValue.split(\"\").forEach((c) => {\n        // eslint-disable-next-line no-control-regex\n        if (c.match(/[\\u0000-\\u00ff]/)) {\n          len += 1;\n        } else {\n          len += 2;\n        }\n      });\n      setTextLen(len);\n    }\n    _setValue(newValue);\n    onChange?.(e);\n  };\n\n  return (\n    <TextField\n      value={_value}\n      onChange={_onChange}\n      inputProps={{\n        onCompositionStart: useCallback((e) => {\n          setIsOnComposition(true);\n        }, []),\n        onCompositionEnd: useCallback((e) => {\n          _onChange(e);\n          setIsOnComposition(false);\n        }, []),\n        onBlur: useCallback((e) => {\n          e.target.value = e.target.value.trim();\n          _onChange(e);\n        }, []),\n      }}\n      helperText={`(${textLen}/${limit})`}\n      {...textFieldProps}\n    />\n  );\n};\n\nexport default LimitLengthTextField;\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from \"@mui/material\";\nimport { useCallback, useContext, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { createRoom } from \"../utils/axios\";\nimport { LoadingContext } from \"../utils/context\";\nimport LimitLengthTextField from \"./LimitLengthTextField\";\n\nconst AddRoomDialog = ({ open, onClose }) => {\n  const navigate = useNavigate();\n  const [roomName, setRoomName] = useState(\"\");\n  const { setIsLoading } = useContext(LoadingContext);\n\n  const onClickCreate = () => {\n    setIsLoading(true);\n\n    if (roomName.trim().length === 0) {\n      alert(\"Please set a name.\");\n    }\n\n    createRoom(roomName).then((id) => {\n      setIsLoading(false);\n      navigate(`/rooms/${id}`);\n    });\n  };\n\n  return (\n    <Dialog open={open} PaperProps={{ sx: { padding: 1 } }} onClose={onClose}>\n      <DialogTitle sx={{ pb: 1 }}>Create New Showroom</DialogTitle>\n      <DialogContent>\n        <DialogContentText sx={{ mb: 2 }}>\n          To create a new showroom, please give it a name.\n        </DialogContentText>\n        <img\n          style={{ aspectRatio: 16 / 9, objectFit: \"cover\" }}\n          width=\"100%\"\n          alt=\"default\"\n          src=\"/DSR-Editor/images/default.png\"\n        />\n        <LimitLengthTextField\n          sx={{ mt: 2 }}\n          variant=\"standard\"\n          fullWidth\n          placeholder=\"Showroom name\"\n          value={roomName}\n          onChange={useCallback((e) => {\n            setRoomName(e.target.value);\n          }, [])}\n        />\n      </DialogContent>\n      <DialogActions sx={{ pr: 2 }}>\n        <Button onClick={onClose} color=\"error\">\n          Cancel\n        </Button>\n        <Button onClick={onClickCreate} disabled={!roomName}>\n          Create\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default AddRoomDialog;\n","import { Button, Card, CardActionArea, CardContent, Grid } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport RoomListItem from \"../components/RoomListItem\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport AddRoomDialog from \"../components/AddRoomDialog\";\nimport { getRooms } from \"../utils/axios\";\n\nconst testRoomList = [\n  {\n    image: \"/DSR-Editor/images/default.png\",\n    name: \"Room 1\",\n    id: \"HomHom\",\n  },\n  {\n    image: \"/DSR-Editor/images/default.png\",\n    name: \"WWWWWWWWWWWWWWWWWWWWWWWWWWWW\",\n    id: \"HomMim\",\n  },\n  {\n    image: \"/DSR-Editor/images/default.png\",\n    name: \"Room 3\",\n    id: \"RedRed\",\n  },\n  {\n    image: \"/DSR-Editor/images/default.png\",\n    name: \"Room 4\",\n    id: \"Doctor\",\n  },\n  {\n    image: \"/DSR-Editor/images/default.png\",\n    name: \"Room 5\",\n    id: \"SongBo\",\n  },\n];\n\nconst Rooms = () => {\n  const [roomList, setRoomList] = useState();\n  const [isAddRoomDialogOpen, setIsAddRoomDialogOpen] = useState(false);\n  const gridProps = {\n    item: true,\n    container: true,\n    direction: \"row\",\n    justifyContent: \"center\",\n    xs: 12,\n    md: 6,\n    lg: 4,\n    xl: 3,\n  };\n\n  useEffect(() => {\n    getRooms()\n      .then((rooms) => {\n        setRoomList(rooms);\n      })\n      .catch((e) => {\n        alert(e);\n      });\n  }, []);\n\n  return (\n    <Box\n      sx={{\n        padding: \"36px 24px\",\n        boxSizing: \"border-box\",\n        width: \"100%\",\n      }}\n    >\n      <Grid\n        container\n        direction=\"row\"\n        sx={{ margin: \"auto\", width: \"90%\", maxWidth: 1600 }}\n      >\n        {roomList ? (\n          <>\n            {roomList.map((room) => (\n              <Grid key={room.id} {...gridProps}>\n                <RoomListItem room={room} />\n              </Grid>\n            ))}\n            <Grid {...gridProps} color=\"divider\">\n              <Button\n                variant=\"outlined\"\n                color=\"inherit\"\n                sx={{\n                  width: 360,\n                  height: 286,\n                  margin: 2,\n                  borderWidth: 3,\n                }}\n                onClick={() => {\n                  setIsAddRoomDialogOpen(true);\n                }}\n              >\n                <AddIcon sx={{ fontSize: 80 }} />\n              </Button>\n            </Grid>\n          </>\n        ) : (\n          Array.from({ length: 4 }, () => ({})).map((v, i) => (\n            <Grid key={i} {...gridProps}>\n              <RoomListItem />\n            </Grid>\n          ))\n        )}\n      </Grid>\n      <AddRoomDialog\n        open={isAddRoomDialogOpen}\n        onClose={useCallback(() => {\n          setIsAddRoomDialogOpen(false);\n        }, [])}\n      />\n    </Box>\n  );\n};\n\nexport default Rooms;\n","import {\n  Card,\n  CardContent,\n  CardMedia,\n  Skeleton,\n  Typography,\n} from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { useState } from \"react\";\n\nconst CollectionListItem = ({ collection }) => {\n  const { name, thumbnailUri, displayUri, artifactUri, mimeType } =\n    collection ?? {};\n  const skeleton = !name;\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  return (\n    <Card\n      sx={{\n        width: 270,\n        margin: 2,\n        height: \"max-content\",\n      }}\n    >\n      <Box\n        sx={{\n          width: \"100%\",\n          height: \"auto\",\n          position: \"relative\",\n          aspectRatio: \"1\",\n          backgroundColor: \"background.paper\",\n        }}\n      >\n        {!skeleton && (\n          <CardMedia\n            sx={{\n              objectFit: \"contain\",\n              width: \"100%\",\n              height: \"100%\",\n              zIndex: 1,\n              position: \"absolute\",\n              top: 0,\n            }}\n            component={mimeType.includes(\"video\") ? \"video\" : \"img\"}\n            image={\n              mimeType.includes(\"image\") || mimeType.includes(\"video\")\n                ? artifactUri\n                : displayUri ?? thumbnailUri\n            }\n            controls\n            loop\n            loading=\"lazy\"\n            onLoad={() => {\n              setIsLoaded(true);\n            }}\n            onLoadStart={() => {\n              setIsLoaded(true);\n            }}\n          />\n        )}\n        {!isLoaded && (\n          <Skeleton\n            sx={{\n              zIndex: 0,\n              position: \"absolute\",\n              top: 0,\n            }}\n            variant=\"rectangular\"\n            width=\"100%\"\n            height=\"100%\"\n            animation=\"wave\"\n          />\n        )}\n      </Box>\n\n      <CardContent\n        sx={{\n          width: \"100%\",\n          boxSizing: \"border-box\",\n          \"&:last-child\": {\n            paddingBottom: 1.5,\n          },\n        }}\n      >\n        <Typography\n          variant=\"body1\"\n          sx={{\n            mb: 0.5,\n            width: \"100%\",\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n            whiteSpace: \"nowrap\",\n          }}\n        >\n          {skeleton ? <Skeleton /> : name}\n        </Typography>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default CollectionListItem;\n","import {\n  Grid,\n  Box,\n  Pagination,\n  PaginationItem,\n  Typography,\n} from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport CollectionListItem from \"../components/CollectionListItem\";\nimport { getCollections } from \"../utils/axios\";\n\nconst Collections = () => {\n  const [collections, setCollections] = useState();\n  const [count, setCount] = useState();\n\n  const numPerPage = 24;\n  const location = useLocation();\n  const query = new URLSearchParams(location.search);\n  const page = parseInt(query.get(\"page\") || \"1\", 10);\n\n  useEffect(() => {\n    const offset = (page - 1) * numPerPage;\n\n    setCollections(Array.from({ length: numPerPage }, () => ({})));\n\n    const fetchCollections = async () => {\n      const { tokens: collections, count } = await getCollections({\n        offset,\n      });\n      setCollections(collections);\n      setCount(count);\n    };\n    fetchCollections();\n  }, [page]);\n\n  const gridProps = {\n    item: true,\n    container: true,\n    direction: \"row\",\n    justifyContent: \"center\",\n    xs: 12,\n    sm: 6,\n    md: 4,\n    lg: 3,\n    xl: 2,\n  };\n\n  return (\n    <Box\n      sx={{\n        position: \"relative\",\n        padding: \"36px 24px\",\n        boxSizing: \"border-box\",\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n      }}\n    >\n      <Grid container direction=\"row\" sx={{ margin: \"auto\" }}>\n        {collections?.map((collection, i) => (\n          <Grid key={`collection_${collection?.name ?? i}`} {...gridProps}>\n            <CollectionListItem collection={collection} />\n          </Grid>\n        ))}\n      </Grid>\n      {count === 0 && (\n        <Typography\n          variant=\"h2\"\n          color=\"text.primary\"\n          sx={{ textAlign: \"center\", mt: \"5%\", fontWeight: \"bold\" }}\n        >\n          You don't have any collection!\n        </Typography>\n      )}\n      {(count ?? 0) > numPerPage && (\n        <Pagination\n          color=\"primary\"\n          sx={(theme) => ({\n            zIndex: 100,\n            position: \"sticky\",\n            bottom: 20,\n            borderRadius: \"9999px\",\n            display: \"flex\",\n            backgroundColor: `${theme.palette.background.default}88`,\n            flexDirection: \"row\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            mt: 1.5,\n            padding: 1,\n          })}\n          page={page}\n          count={Math.ceil(count / numPerPage)}\n          renderItem={(item) => (\n            <PaginationItem\n              component={Link}\n              to={`${item.page === 1 ? \"\" : `?page=${item.page}`}`}\n              {...item}\n            />\n          )}\n        />\n      )}\n    </Box>\n  );\n};\n\nexport default Collections;\n","import { Backdrop, Box, Portal, Typography } from \"@mui/material\";\nimport { useContext, useReducer, useEffect, useState } from \"react\";\nimport {\n  HashRouter,\n  Navigate,\n  Outlet,\n  Route,\n  Routes,\n  useLocation,\n} from \"react-router-dom\";\nimport HeaderBar from \"../components/HeaderBar\";\nimport { authStatusReducer, AuthDispatcherAction } from \"../utils/AuthReducer\";\nimport { AuthContext, LoadingContext } from \"../utils/context\";\nimport storage, { LS_AUTH_TOKEN } from \"../utils/storage\";\nimport Home from \"./Home\";\nimport NotFound from \"./NotFound\";\nimport Rooms from \"./Rooms\";\nimport jwt from \"jsonwebtoken\";\nimport Collections from \"./Collections\";\nimport { renewJwt } from \"../utils/axios\";\n\nconst PrivateRoute = () => {\n  const { authState } = useContext(AuthContext);\n  return authState?.isLoggedIn ? <Outlet /> : <Navigate to=\"/\" replace />;\n};\n\nconst App = () => {\n  const location = useLocation();\n  const [isLoading, setIsLoading] = useState(false);\n\n  const initAuthState = () => {\n    const authToken = storage.authToken;\n    if (authToken && storage.walletAddr) {\n      const { addr } = jwt.decode(authToken) ?? {};\n      if (addr === storage.walletAddr) {\n        return {\n          isLoggedIn: true,\n          walletAddr: addr,\n        };\n      }\n    }\n\n    storage.clearAccountData();\n    return {\n      isLoggedIn: false,\n      walletAddr: \"\",\n    };\n  };\n\n  const [authState, authDispatcher] = useReducer(\n    authStatusReducer,\n    {},\n    initAuthState\n  );\n\n  const checkJwt = () => {\n    renewJwt()\n      .then((token) => {\n        if (jwt.decode(token)?.addr !== storage.walletAddr) {\n          throw new Error(\"Inconsistent address.\");\n        }\n        authDispatcher({\n          type: AuthDispatcherAction.AUTO_SYNC,\n          payload: {\n            token,\n          },\n        });\n      })\n      .catch((e) => {\n        authDispatcher({ type: AuthDispatcherAction.LOGOUT });\n        window.location.reload();\n      });\n  };\n\n  /**\n   * Check Auth On Load\n   */\n  useEffect(() => {\n    console.log(\"Check local account at:\", location.pathname);\n    if (storage.authToken && storage.walletAddr) {\n      checkJwt();\n    } else {\n      authDispatcher({\n        type: AuthDispatcherAction.LOGOUT,\n      });\n    }\n\n    window.scrollTo({\n      top: 0,\n      behavior: \"smooth\",\n    });\n  }, [location]);\n\n  useEffect(() => {\n    function checkLocalStorage(e) {\n      switch (e.key) {\n        case LS_AUTH_TOKEN:\n          onJwtChanged(e.newValue);\n          break;\n        default:\n          break;\n      }\n    }\n\n    const onJwtChanged = (authToken) => {\n      if (authToken && storage.walletAddr) {\n        const { addr } = jwt.decode(authToken);\n\n        if (addr === storage.walletAddr) {\n          authDispatcher({\n            type: AuthDispatcherAction.AUTO_SYNC,\n            payload: {\n              walletAddr: addr,\n              token: authToken,\n            },\n          });\n          return;\n        }\n      }\n\n      authDispatcher({\n        type: AuthDispatcherAction.LOGOUT,\n      });\n    };\n\n    window.addEventListener(\"storage\", checkLocalStorage);\n\n    return () => {\n      window.removeEventListener(\"storage\", checkLocalStorage);\n    };\n  }, []);\n\n  return (\n    <LoadingContext.Provider value={{ isLoading, setIsLoading }}>\n      <AuthContext.Provider value={{ authState, authDispatcher }}>\n        <Portal container={document.body}>\n          <Backdrop\n            sx={{ zIndex: 999999, backgroundColor: \"rgba(0, 0, 0, 0.7)\" }}\n            open={isLoading}\n          >\n            <img\n              width=\"100\"\n              alt=\"loading\"\n              src=\"/DSR-Editor/images/spinner.svg\"\n            />\n          </Backdrop>\n        </Portal>\n        <HeaderBar />\n        <Box\n          sx={{\n            width: \"100%\",\n            height: \"calc(100% - 56px)\",\n            mt: \"56px\",\n            boxSizing: \"border-box\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            overflow: \"auto\",\n            scrollBehavior: \"smooth\",\n          }}\n        >\n          <Routes>\n            <Route path=\"/\" element={<Home />} />\n            <Route path=\"/rooms\" element={<PrivateRoute />}>\n              <Route path=\"/rooms\" element={<Rooms />} />\n            </Route>\n            <Route path=\"/collections\" element={<PrivateRoute />}>\n              <Route path=\"/collections\" element={<Collections />} />\n            </Route>\n            <Route path=\"*\" element={<NotFound />} />\n          </Routes>\n        </Box>\n      </AuthContext.Provider>\n    </LoadingContext.Provider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createTheme, responsiveFontSizes } from \"@mui/material/styles\";\n\nexport const darkTheme = responsiveFontSizes(\n  createTheme({\n    palette: {\n      mode: \"dark\",\n      common: {\n        black: \"#000\",\n        white: \"rgba(255, 255, 255, 0.8)\",\n      },\n      primary: {\n        main: \"#78e5fe\",\n      },\n      secondary: {\n        main: \"rgba(255, 255, 255, 0.7)\",\n      },\n      error: {\n        main: \"#f44336\",\n        light: \"#e57373\",\n        dark: \"#d32f2f\",\n        contrastText: \"rgba(255, 255, 255, 0.8)\",\n      },\n      warning: {\n        main: \"#ffa726\",\n        light: \"#ffb74d\",\n        dark: \"#f57c00\",\n        contrastText: \"rgba(0, 0, 0, 0.87)\",\n      },\n      info: {\n        main: \"#29b6f6\",\n        light: \"#4fc3f7\",\n        dark: \"#0288d1\",\n        contrastText: \"rgba(0, 0, 0, 0.87)\",\n      },\n      success: {\n        main: \"#66bb6a\",\n        light: \"#81c784\",\n        dark: \"#388e3c\",\n        contrastText: \"rgba(0, 0, 0, 0.87)\",\n      },\n      grey: {\n        50: \"#fafafa\",\n        100: \"#f5f5f5\",\n        200: \"#eeeeee\",\n        300: \"#e0e0e0\",\n        400: \"#bdbdbd\",\n        500: \"#9e9e9e\",\n        600: \"#757575\",\n        700: \"#616161\",\n        800: \"#424242\",\n        900: \"#212121\",\n        A100: \"#f5f5f5\",\n        A200: \"#eeeeee\",\n        A400: \"#bdbdbd\",\n        A700: \"#616161\",\n      },\n      contrastThreshold: 3,\n      tonalOffset: 0.2,\n      text: {\n        primary: \"rgba(255, 255, 255, 1)\",\n        secondary: \"rgba(255, 255, 255, 0.6)\",\n        disabled: \"rgba(255, 255, 255, 0.4)\",\n        icon: \"rgba(255, 255, 255, 0.5)\",\n      },\n      divider: \"rgba(255, 255, 255, 0.12)\",\n      background: {\n        popup: \"#242424\",\n        paper: \"#161616\",\n        default: \"#121212\",\n      },\n      action: {\n        active: \"rgba(255, 255, 255, 0.8)\",\n        hover: \"rgba(255, 255, 255, 0.08)\",\n        hoverOpacity: 0.08,\n        selected: \"rgba(255, 255, 255, 0.16)\",\n        selectedOpacity: 0.16,\n        disabled: \"rgba(255, 255, 255, 0.3)\",\n        disabledBackground: \"rgba(255, 255, 255, 0.12)\",\n        disabledOpacity: 0.38,\n        focus: \"rgba(255, 255, 255, 0.12)\",\n        focusOpacity: 0.12,\n        activatedOpacity: 0.24,\n      },\n    },\n    overrides: {},\n  })\n);\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./containers/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { ThemeProvider } from \"@mui/material/styles\";\nimport { darkTheme } from \"./theme\";\nimport { HashRouter } from \"react-router-dom\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  <HashRouter>\n    <ThemeProvider theme={darkTheme}>\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    </ThemeProvider>\n  </HashRouter>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}