{"version":3,"sources":["utils/context.js","utils/storage.js","utils/AuthReducer.js","utils/axios.js","utils/config.js","hooks/useWallet.js","components/HeaderBar.js","containers/Home.js","containers/NotFound.js","components/room/RoomId.js","components/room/RoomListItem.js","components/LimitLengthTextField.js","components/AddRoomDialog.js","containers/Rooms.js","components/CollectionListItem.js","containers/Collections.js","components/room/EditRoomNameTextField.js","components/room/EditRoomPlan.js","components/room/EditRoomMainArea.js","hooks/useCollections.js","components/room/EditRoomCollectionListItem.js","components/room/EditRoomCollectionsList.js","containers/EditRoom.js","containers/RoomsRoot.js","containers/App.js","reportWebVitals.js","theme.js","index.js"],"names":["AuthContext","createContext","authState","isLoggedIn","walletAddr","authDispatcher","LoadingContext","isLoading","setIsLoading","EditRoomContext","name","undefined","setName","roomId","room","isModified","currentEditPlace","setCurrentEditPlace","meta","setMeta","LS_AUTH_TOKEN","CK_WALLET_ADDR","storage","Object","defineProperty","get","localStorage","getItem","set","value","setItem","cookie","load","save","path","clearAccountData","removeItem","remove","authStatusReducer","state","type","payload","console","log","token","AuthDispatcherAction","AUTO_SYNC","authToken","LOGIN","LOGOUT","instance","axios","create","baseURL","process","interceptors","request","use","config","headers","SimpleFormData","data","key","append","FormData","renewJwt","a","then","res","access_token","getPayload","login","signature","post","address","getCollections","params","getRooms","createRoom","image","id","updateRoom","put","deleteRoom","delete","tezos","TezosToolkit","wallet","BeaconWallet","setWalletProvider","useWallet","useContext","useState","setWalletAddr","checkWalletConnection","client","getActiveAccount","activeAccount","addr","connectWallet","requestPermissions","permissions","requestSignPayload","signingType","SigningType","MICHELINE","signResult","HeaderBarLink","children","to","isCurrentPage","useLocation","pathname","split","Typography","color","sx","fontSize","sm","xs","mr","fontWeight","position","content","height","bottom","margin","left","right","width","backgroundColor","HeaderBar","theme","useTheme","isUpSm","useMediaQuery","breakpoints","up","AppBar","enableColorOnDark","Toolbar","style","src","alt","flexGrow","Button","variant","textTransform","onDoubleClick","slice","onClick","Home","navigate","useNavigate","Box","display","flexDirection","alignItems","justifyContent","minWidth","maxWidth","marginBottom","textAlign","padding","mt","size","e","preventDefault","href","NotFound","RoomId","props","typographyProps","isSnackbarOpen","setIsSnackbarOpen","Tooltip","title","arrow","followCursor","cursor","lineHeight","textDecoration","navigator","clipboard","writeText","Snackbar","open","autoHideDuration","anchorOrigin","vertical","horizontal","onClose","useCallback","message","pl","pr","RoomListItem","refetch","isLoaded","setIsLoaded","isShowingConfirmDelete","setIsShowingConfirmDelete","confirmText","setConfirmText","skeleton","Card","aspectRatio","CardMedia","component","loading","objectFit","zIndex","top","onLoad","length","Skeleton","animation","CardContent","pt","paddingBottom","mb","overflow","textOverflow","whiteSpace","placement","componentsProps","tooltip","IconButton","Dialog","fullWidth","DialogTitle","DialogContent","DialogContentText","TextField","onChange","target","DialogActions","disabled","LimitLengthTextField","limit","showCount","textFieldProps","_value","_setValue","isOnComposition","setIsOnComposition","textLen","setTextLen","useEffect","getLen","str","len","forEach","c","match","_onChange","newValue","charArray","push","join","getLimitedString","inputProps","onCompositionStart","onCompositionEnd","onBlur","trim","helperText","AddRoomDialog","roomName","setRoomName","PaperProps","pb","placeholder","alert","Rooms","useOutletContext","roomList","fetchRooms","isAddRoomDialogOpen","setIsAddRoomDialogOpen","gridProps","item","container","direction","md","lg","xl","boxSizing","Grid","map","borderWidth","Array","from","v","i","CollectionListItem","collection","thumbnailUri","displayUri","artifactUri","mimeType","includes","controls","loop","onLoadStart","Collections","collections","setCollections","count","setCount","location","query","URLSearchParams","search","page","parseInt","offset","fetchCollections","tokens","minHeight","Pagination","borderRadius","palette","background","default","Math","ceil","renderItem","PaginationItem","Link","EditRoomNameTextField","currentName","setShowCount","multiline","onFocus","setTimeout","ml","border","typography","h3","borderColor","PLACE_NAME","EditRoomPlan","onSelectPlace","EditRoomMainArea","setRoomList","overflowWrap","newData","findIndex","contract","metadata","tokenId","oldRoomList","r","COLLECTION_TYPES","useCollections","imageCollections","setImageCollections","imageCollectionCounts","setImageCollectionCounts","gifCollections","setGifCollections","gifCollectionCounts","setGifCollectionCounts","videoCollections","setVideoCollections","videoCollectionCounts","setVideoCollectionCounts","audioCollections","setAudioCollections","audioCollectionCounts","setAudioCollectionCounts","modelCollections","setModelCollections","modelCollectionCounts","setModelCollectionCounts","indexOf","EditRoomCollectionListItem","place","getNewMeta","index","boxShadow","primary","main","ALLOWED_TYPES","DISPLAY_COLLECTION_TYPES","EditRoomCollectionsList","collectionTabIndex","setCollectionTabIndex","collectionPage","setCollectionPage","shownCollections","counts","isUpMd","allowedTypes","tabValue","borderBottom","Tabs","_","Tab","label","tabIndex","EditRoom","useParams","find","currentMeta","onBeforeUnload","returnValue","window","addEventListener","removeEventListener","Provider","borderLeft","RoomsRoot","rooms","catch","mimeTypes","context","PrivateRoute","replace","App","useReducer","jwt","decode","Error","reload","scrollTo","behavior","checkLocalStorage","onJwtChanged","Portal","document","body","Backdrop","scrollBehavior","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","darkTheme","responsiveFontSizes","createTheme","mode","common","black","white","dark","secondary","error","light","contrastText","warning","info","success","grey","A100","A200","A400","A700","contrastThreshold","tonalOffset","text","icon","divider","popup","paper","action","active","hover","hoverOpacity","selected","selectedOpacity","disabledBackground","disabledOpacity","focus","focusOpacity","activatedOpacity","overrides","ReactDOM","createRoot","getElementById","render","ThemeProvider","StrictMode"],"mappings":"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","file":"static/js/main.51aecfd2.chunk.js","sourcesContent":["import { createContext, Context } from \"react\";\n\nexport const AuthContext = createContext({\n  authState: {\n    isLoggedIn: false,\n    walletAddr: \"\",\n  },\n  authDispatcher: () => {},\n});\n\nexport const LoadingContext = createContext({\n  isLoading: false,\n  setIsLoading: () => {},\n});\n\n/**\n * @typedef {{contract: string, tokenId: string}} Token\n * @typedef {{name: String, metadata: Array<Token>}} Room\n * @type {Context<{name: String, setName: ()=>{}, roomId: String, room: Room,\n * isModified: boolean, currentEditPlace: number, setCurrentEditPlace: ()=>{},\n * meta: Array<Token>, setMeta: ()=>{} }>}\n */\nexport const EditRoomContext = createContext({\n  name: undefined,\n  setName: undefined,\n  roomId: undefined,\n  room: undefined,\n  isModified: false,\n  currentEditPlace: 0,\n  setCurrentEditPlace: undefined,\n  meta: undefined,\n  setMeta: undefined,\n});\n","import cookie from \"react-cookies\";\n/**\n * keys\n */\nexport const LS_AUTH_TOKEN = \"atk\";\nexport const CK_WALLET_ADDR = \"addr\";\n\nconst storage = {};\n\nObject.defineProperty(storage, \"authToken\", {\n  get: () => localStorage.getItem(LS_AUTH_TOKEN),\n  set: (value) => {\n    localStorage.setItem(LS_AUTH_TOKEN, value);\n  },\n});\n\nObject.defineProperty(storage, \"walletAddr\", {\n  get: () => cookie.load(CK_WALLET_ADDR),\n  set: (value) => {\n    cookie.save(CK_WALLET_ADDR, value, { path: \"/\" });\n  },\n});\n\nstorage.clearAccountData = () => {\n  localStorage.removeItem(LS_AUTH_TOKEN);\n  cookie.remove(CK_WALLET_ADDR);\n};\n\nexport default storage;\n","import storage from \"./storage\";\n\nconst authStatusReducer = (state, { type, payload }) => {\n  console.log(\"dispatcher got state: \", type);\n  let walletAddr = payload?.walletAddr ?? \"\";\n  let token = payload?.token;\n\n  switch (type) {\n    case AuthDispatcherAction.AUTO_SYNC:\n      if (token) {\n        storage.authToken = token;\n        return state;\n      } else {\n        return state;\n      }\n\n    case AuthDispatcherAction.LOGIN:\n      storage.authToken = token;\n      storage.walletAddr = walletAddr;\n      return {\n        isLoggedIn: true,\n        walletAddr,\n      };\n\n    case AuthDispatcherAction.LOGOUT:\n      storage.clearAccountData();\n      return {\n        isLoggedIn: false,\n        walletAddr: \"\",\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst AuthDispatcherAction = {\n  AUTO_SYNC: 0,\n  LOGIN: 1,\n  LOGOUT: 2,\n};\n\nexport { authStatusReducer, AuthDispatcherAction };\n","import axios from \"axios\";\nimport { SERVER_URL } from \"./config\";\nimport storage from \"./storage\";\n\nconst instance = axios.create({ baseURL: SERVER_URL });\n\ninstance.interceptors.request.use((config) => {\n  const token = storage.authToken;\n  config.headers[\"Authorization\"] = token ? `Bearer ${token}` : \"\";\n\n  return config;\n});\n\nclass SimpleFormData extends FormData {\n  constructor(data) {\n    super();\n    for (let key in data) {\n      this.append(key, data[key]);\n    }\n  }\n}\n\nexport const renewJwt = async () => {\n  return await instance.get(\"/renew_token\").then((res) => {\n    return res.data.access_token;\n  });\n};\n\nexport const getPayload = async (walletAddr) => {\n  return await instance.get(`/login/${walletAddr}/payload`).then((res) => {\n    return res.data.payload;\n  });\n};\n\nexport const login = async (walletAddr, signature) => {\n  return await instance\n    .post(\n      \"/login\",\n      new SimpleFormData({\n        address: walletAddr,\n        signature,\n      })\n    )\n    .then((res) => {\n      return res.data.access_token;\n    });\n};\n\n/**\n *\n * @param {{offset: number?, mimeTypes: Array<string>?}} params\n * @returns\n */\nexport const getCollections = async (params) => {\n  return await instance.get(\"/collections\", { params }).then((res) => {\n    return res.data;\n  });\n};\n\nexport const getRooms = async () => {\n  return await instance.get(\"/rooms\").then((res) => {\n    return res.data;\n  });\n};\n\nexport const createRoom = async (name, image) => {\n  return await instance\n    .post(\n      \"/rooms/create\",\n      new SimpleFormData({\n        name,\n        image: image ?? \"\",\n      })\n    )\n    .then((res) => {\n      return res.data.id;\n    });\n};\n\n/**\n *\n * @param {string} id\n * @param {{name: string}} data\n * @returns\n */\nexport const updateRoom = async (id, data) => {\n  return await instance\n    .put(`/rooms/${id}/update`, data)\n    .then((res) => res.data);\n};\n\nexport const deleteRoom = async (id) => {\n  await instance.delete(`/rooms/${id}/delete`);\n};\n","import \"dotenv/config\";\nconst { REACT_APP_SERVER_URL: SERVER_URL } = process.env;\nexport { SERVER_URL };\n","import { TezosToolkit } from \"@taquito/taquito\";\nimport { BeaconWallet } from \"@taquito/beacon-wallet\";\nimport { SigningType } from \"@airgap/beacon-sdk\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { getPayload, login } from \"../utils/axios\";\nimport { AuthContext, LoadingContext } from \"../utils/context\";\nimport { AuthDispatcherAction } from \"../utils/AuthReducer\";\nimport Utility from \"../utils/utility\";\n\nconst tezos = new TezosToolkit(\"https://mainnet-tezos.giganode.io\");\nconst wallet = new BeaconWallet({\n  name: \"D Showroom\",\n});\n\ntezos.setWalletProvider(wallet);\n\n/**\n *\n * @returns {{walletAddr: string, connectWallet: Promise, checkWalletConnection: Promise}}\n */\nconst useWallet = () => {\n  const { setIsLoading } = useContext(LoadingContext);\n  const { authState, authDispatcher } = useContext(AuthContext);\n  const [walletAddr, setWalletAddr] = useState(\"\");\n\n  const checkWalletConnection = async () => {\n    const activeAccount = await wallet.client.getActiveAccount();\n    if (activeAccount) {\n      let addr = activeAccount.address;\n      if (walletAddr === addr) {\n        console.log(\"Already connected: \", addr);\n      } else {\n        console.log(\"Another wallet connected: \", addr);\n      }\n    } else {\n      console.log(\"No wallet connnection!\");\n    }\n  };\n\n  const connectWallet = async () => {\n    setIsLoading(true);\n    try {\n      // Request Permission\n      console.log(\"Requesting permissions...\");\n      const permissions = await wallet.client.requestPermissions();\n\n      let addr = permissions.address;\n      setWalletAddr(addr);\n\n      // Get payload to sign\n      console.log(\"Get permission. Get payload...\");\n      const payload = await getPayload(addr);\n\n      // Signing\n      console.log(\"Get payload. Request signature...\");\n      const signResult = await wallet.client.requestSignPayload({\n        signingType: SigningType.MICHELINE,\n        payload,\n      });\n\n      // Login\n      console.log(\"Get signature. Try login...\");\n      await login(addr, signResult.signature).then((authToken) => {\n        console.log(\"Login suceed!\");\n        authDispatcher({\n          type: AuthDispatcherAction.LOGIN,\n          payload: {\n            walletAddr: addr,\n            token: authToken,\n          },\n        });\n      });\n    } catch (error) {\n      setWalletAddr(\"\");\n      console.log(\"Got error:\", error);\n    }\n    setIsLoading(false);\n  };\n\n  return { walletAddr, connectWallet, checkWalletConnection };\n};\n\nexport default useWallet;\n","import {\n  AppBar,\n  Button,\n  Toolbar,\n  Typography,\n  useMediaQuery,\n} from \"@mui/material\";\nimport { useCallback, useContext } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { AuthContext } from \"../utils/context\";\nimport { AuthDispatcherAction } from \"../utils/AuthReducer\";\nimport useWallet from \"../hooks/useWallet\";\nimport { useTheme } from \"@mui/material/styles\";\n\nconst HeaderBarLink = ({ children, to }) => {\n  const location = useLocation();\n  const isCurrentPage = \"/\" + location.pathname.split(\"/\")[1] === to;\n\n  return (\n    <Link to={to}>\n      <Typography\n        color={isCurrentPage ? \"text.primary\" : \"text.secondary\"}\n        sx={{\n          fontSize: { sm: \"1rem\", xs: \"0.875rem\" },\n          mr: 4,\n          fontWeight: \"bold\",\n          position: \"relative\",\n          \"&::after\": isCurrentPage\n            ? {\n                position: \"absolute\",\n                content: \"''\",\n                height: 2,\n                bottom: -3,\n                margin: \"0 auto\",\n                left: 0,\n                right: 0,\n                width: \"100%\",\n                backgroundColor: \"text.primary\",\n              }\n            : {},\n        }}\n      >\n        {children}\n      </Typography>\n    </Link>\n  );\n};\n\nconst HeaderBar = () => {\n  const { authState, authDispatcher } = useContext(AuthContext);\n  const { connectWallet } = useWallet();\n  const theme = useTheme();\n  const isUpSm = useMediaQuery(theme.breakpoints.up(\"sm\"));\n\n  const onClickConnect = () => {\n    connectWallet();\n  };\n\n  const onClickLogout = () => {\n    authDispatcher({\n      type: AuthDispatcherAction.LOGOUT,\n    });\n  };\n\n  return (\n    <AppBar color=\"default\" enableColorOnDark>\n      <Toolbar>\n        <Link to=\"/\">\n          <img\n            style={{ height: 40 }}\n            src={isUpSm ? \"/DSR-Editor/logo_full.svg\" : \"/DSR-Editor/logo.svg\"}\n            alt=\"D SHOWROOM\"\n          />\n        </Link>\n        <Typography sx={{ flexGrow: 1 }} />\n        {authState?.isLoggedIn ? (\n          <>\n            <HeaderBarLink to=\"/rooms\">Rooms</HeaderBarLink>\n            <HeaderBarLink to=\"/collections\">Collections</HeaderBarLink>\n            <Button\n              variant=\"outlined\"\n              sx={{ textTransform: \"none\" }}\n              onDoubleClick={onClickLogout}\n            >\n              {isUpSm\n                ? authState?.walletAddr?.slice(0, 5) +\n                  \"...\" +\n                  authState?.walletAddr?.slice(-5)\n                : \"...\" + authState?.walletAddr?.slice(-3)}\n            </Button>\n          </>\n        ) : (\n          <Button variant=\"outlined\" onClick={onClickConnect}>\n            Connect\n          </Button>\n        )}\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default HeaderBar;\n","import { Box, Button, Icon, Typography } from \"@mui/material\";\nimport { useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport useWallet from \"../hooks/useWallet\";\nimport { AuthContext } from \"../utils/context\";\nimport AnimateArrow from \"../components/animate_arrow/AnimateArrow\";\n\nconst Home = () => {\n  const navigate = useNavigate();\n  const { authState } = useContext(AuthContext);\n  const { connectWallet } = useWallet();\n\n  const onClickStart = (e) => {\n    navigate(\"/rooms\");\n    e.preventDefault();\n  };\n\n  const onClickConnect = (e) => {\n    connectWallet();\n    e.preventDefault();\n  };\n\n  return (\n    <Box\n      sx={{\n        height: \"100%\",\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      <img\n        style={{ minWidth: 200, width: \"50%\", maxWidth: 400, marginBottom: 24 }}\n        src=\"/DSR-Editor/images/welcome.svg\"\n        alt=\"Welcome to DSR.\"\n      />\n      <Button\n        sx={{ textAlign: \"center\", padding: 2, mt: 2.5 }}\n        size=\"large\"\n        onClick={authState?.isLoggedIn ? onClickStart : onClickConnect}\n        href=\"/rooms\"\n      >\n        <Typography variant=\"h6\">\n          {authState?.isLoggedIn ? \"Get Started\" : \"Connect to Start\"}\n        </Typography>\n      </Button>\n    </Box>\n  );\n};\n\nexport default Home;\n","import { Box, Typography } from \"@mui/material\";\n\nconst NotFound = () => {\n  return (\n    <Box\n      sx={{\n        width: \"100%\",\n        height: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      <img\n        src=\"/DSR-Editor/logo.svg\"\n        alt=\"logo\"\n        style={{\n          maxWidth: 200,\n          width: \"30%\",\n        }}\n      />\n      <Typography\n        variant=\"h3\"\n        color=\"text.primary\"\n        sx={{ textAlign: \"center\", mt: 8, fontWeight: \"bold\" }}\n      >\n        Nothing = =\n      </Typography>\n    </Box>\n  );\n};\n\nexport default NotFound;\n","import { Snackbar, Tooltip, Typography, TypographyProps } from \"@mui/material\";\nimport CopyIcon from \"@mui/icons-material/ContentCopyRounded\";\nimport { useCallback, useState } from \"react\";\n\n/**\n *\n * @param {TypographyProps} props\n */\nconst RoomId = (props) => {\n  const { id, variant, color, sx, ...typographyProps } = props;\n\n  const [isSnackbarOpen, setIsSnackbarOpen] = useState(false);\n\n  const onClickCopy = () => {\n    navigator.clipboard.writeText(id).then(() => {\n      setIsSnackbarOpen(true);\n    });\n  };\n\n  return (\n    <>\n      <Tooltip title=\"Click to copy\" arrow followCursor>\n        <Typography\n          variant={variant ?? \"body2\"}\n          color={color ?? \"text.secondary\"}\n          sx={{\n            fontSize: { sm: \"0.875rem\", xs: \"0.75rem\" },\n            height: \"fit-content\",\n            width: \"fit-content\",\n            display: \"flex\",\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            cursor: \"pointer\",\n            lineHeight: 1,\n            \"&:hover\": {\n              color: \"text.primary\",\n              textDecoration: \"underline dotted 2px\",\n            },\n            ...(sx ?? {}),\n          }}\n          onClick={onClickCopy}\n          {...typographyProps}\n        >\n          <CopyIcon\n            fontSize=\"small\"\n            sx={{ mr: 0.5, fontSize: { sm: \"1.25rem\", xs: \"1rem\" } }}\n          />\n          {id}\n        </Typography>\n      </Tooltip>\n      <Snackbar\n        open={isSnackbarOpen}\n        autoHideDuration={1000}\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n        onClose={useCallback(() => {\n          setIsSnackbarOpen(false);\n        }, [])}\n        message=\"Room ID copied.\"\n        sx={{\n          \"& .MuiPaper-root\": {\n            maxWidth: \"max-content\",\n            minWidth: \"max-content\",\n            pl: 3,\n            pr: 3,\n          },\n        }}\n      />\n    </>\n  );\n};\n\nexport default RoomId;\n","import {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  CardMedia,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  IconButton,\n  Skeleton,\n  Snackbar,\n  TextField,\n  Tooltip,\n  Typography,\n} from \"@mui/material\";\nimport EditIcon from \"@mui/icons-material/EditRounded\";\nimport DeleteIcon from \"@mui/icons-material/DeleteRounded\";\nimport { useCallback, useContext, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { deleteRoom } from \"../../utils/axios\";\nimport { LoadingContext } from \"../../utils/context\";\nimport RoomId from \"./RoomId\";\n\nconst RoomListItem = ({ room, refetch }) => {\n  const { image, name, id } = room ?? {};\n  const [isLoaded, setIsLoaded] = useState(false);\n  const { setIsLoading } = useContext(LoadingContext);\n  const [isShowingConfirmDelete, setIsShowingConfirmDelete] = useState(false);\n  const [confirmText, setConfirmText] = useState(\"\");\n  const navigate = useNavigate();\n  const skeleton = !name;\n\n  const onClickEdit = () => {\n    navigate(id);\n  };\n\n  const onClickDelete = () => {\n    setIsShowingConfirmDelete(true);\n  };\n\n  const onConfirmDelete = () => {\n    setIsShowingConfirmDelete(false);\n    setIsLoading(true);\n    deleteRoom(id).then(() => {\n      refetch?.().then(() => {\n        setIsLoading(false);\n      });\n    });\n  };\n\n  return (\n    <>\n      <Card sx={{ width: 360, margin: 2, height: \"max-content\" }}>\n        <Box\n          sx={{\n            width: \"100%\",\n            height: \"auto\",\n            aspectRatio: \"15/9\",\n            position: \"relative\",\n            backgroundColor: \"background.paper\",\n          }}\n        >\n          {!skeleton && (\n            <CardMedia\n              component=\"img\"\n              loading=\"lazy\"\n              sx={{\n                objectFit: \"cover\",\n                width: \"100%\",\n                height: \"100%\",\n                zIndex: 1,\n                position: \"absolute\",\n                top: 0,\n              }}\n              onLoad={() => {\n                setIsLoaded(true);\n              }}\n              image={\n                (image?.length ?? 0) > 0\n                  ? image\n                  : \"/DSR-Editor/images/default.png\"\n              }\n            />\n          )}\n          {!isLoaded && (\n            <Skeleton\n              sx={{\n                zIndex: 0,\n                position: \"absolute\",\n                top: 0,\n              }}\n              variant=\"rectangular\"\n              width=\"100%\"\n              height=\"100%\"\n              animation=\"wave\"\n            />\n          )}\n        </Box>\n        <CardContent\n          sx={{\n            pt: 1,\n            \"&:last-child\": {\n              paddingBottom: { sm: 1.5, xs: 1 },\n            },\n            position: \"relative\",\n          }}\n        >\n          <Typography\n            variant=\"h6\"\n            sx={{\n              mb: 0.5,\n              lineHeight: 1.6,\n              width: \"100%\",\n              overflow: \"hidden\",\n              textOverflow: \"ellipsis\",\n              whiteSpace: \"nowrap\",\n            }}\n          >\n            {skeleton ? <Skeleton /> : name}\n          </Typography>\n          {skeleton ? <Skeleton width=\"40%\" /> : <RoomId id={id} />}\n          {!skeleton && (\n            <>\n              <Tooltip\n                title=\"Delete\"\n                placement=\"top\"\n                arrow\n                componentsProps={{\n                  tooltip: {\n                    style: {\n                      marginBottom: 8,\n                    },\n                  },\n                }}\n              >\n                <IconButton\n                  color=\"error\"\n                  size=\"small\"\n                  sx={{\n                    color: \"error.light\",\n                    position: \"absolute\",\n                    right: { sm: 48, xs: 40 },\n                    bottom: { sm: 8, xs: 4 },\n                  }}\n                  onClick={onClickDelete}\n                >\n                  <DeleteIcon\n                    sx={{ fontSize: { sm: \"1.5rem\", xs: \"1.25rem\" } }}\n                  />\n                </IconButton>\n              </Tooltip>\n              <Tooltip\n                title=\"Edit\"\n                placement=\"top\"\n                arrow\n                componentsProps={{\n                  tooltip: {\n                    style: {\n                      marginBottom: 8,\n                    },\n                  },\n                }}\n              >\n                <IconButton\n                  color=\"primary\"\n                  size=\"small\"\n                  sx={{\n                    color: \"primary.light\",\n                    position: \"absolute\",\n                    right: 8,\n                    bottom: { sm: 8, xs: 4 },\n                  }}\n                  onClick={onClickEdit}\n                >\n                  <EditIcon\n                    sx={{ fontSize: { sm: \"1.5rem\", xs: \"1.25rem\" } }}\n                  />\n                </IconButton>\n              </Tooltip>\n            </>\n          )}\n        </CardContent>\n      </Card>\n      <Dialog open={isShowingConfirmDelete} maxWidth=\"xs\" fullWidth>\n        <DialogTitle>Are you sure to delete the room?</DialogTitle>\n        <DialogContent>\n          <DialogContentText component=\"span\">\n            Type the room name{\" \"}\n            <Typography component=\"span\" color=\"error\" fontWeight=\"bold\">\n              {name}\n            </Typography>\n          </DialogContentText>\n          <TextField\n            variant=\"standard\"\n            fullWidth\n            value={confirmText}\n            onChange={useCallback((e) => {\n              setConfirmText(e.target.value);\n            }, [])}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={useCallback(() => {\n              setIsShowingConfirmDelete(false);\n            }, [])}\n          >\n            Cancel\n          </Button>\n          <Button\n            color=\"error\"\n            disabled={confirmText !== name}\n            onClick={onConfirmDelete}\n          >\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport default RoomListItem;\n","import { TextField } from \"@mui/material\";\nimport { memo, useCallback, useEffect, useMemo, useState } from \"react\";\n\n/**\n *\n * @param {import (\"@mui/material\").TextFieldProps } props\n * @returns\n */\nconst LimitLengthTextField = (props) => {\n  const {\n    limit = 32,\n    value,\n    onChange,\n    showCount = true,\n    ...textFieldProps\n  } = props;\n\n  const [_value, _setValue] = useState(\"\");\n  const [isOnComposition, setIsOnComposition] = useState(false);\n  const [textLen, setTextLen] = useState(_value?.length ?? 0);\n\n  useEffect(() => {\n    setTextLen(getLen(value));\n    _setValue(value);\n  }, [value]);\n\n  const getLimitedString = (str, limit) => {\n    const charArray = [];\n    str?.split(\"\")?.forEach((c) => {\n      // eslint-disable-next-line no-control-regex\n      if (c.match(/[\\u0000-\\u00ff]/)) {\n        charArray.push(c);\n      } else {\n        charArray.push(\"\", c);\n      }\n    });\n\n    return charArray.slice(0, limit).join(\"\");\n  };\n\n  const getLen = (str) => {\n    let len = 0;\n    str?.split(\"\")?.forEach((c) => {\n      // eslint-disable-next-line no-control-regex\n      if (c.match(/[\\u0000-\\u00ff]/)) {\n        len += 1;\n      } else {\n        len += 2;\n      }\n    });\n    return len;\n  };\n\n  const _onChange = (e) => {\n    const newValue = getLimitedString(e.target.value, limit);\n    if (!isOnComposition) {\n      e.target.value = newValue;\n      let len = getLen(newValue);\n      setTextLen(len);\n    }\n    _setValue(newValue);\n    onChange?.(e);\n  };\n\n  return (\n    <TextField\n      value={_value}\n      onChange={_onChange}\n      inputProps={{\n        onCompositionStart: useCallback((e) => {\n          setIsOnComposition(true);\n        }, []),\n        onCompositionEnd: useCallback((e) => {\n          _onChange(e);\n          setIsOnComposition(false);\n        }, []),\n        onBlur: useCallback((e) => {\n          e.target.value = e.target.value.trim();\n          _onChange(e);\n        }, []),\n      }}\n      helperText={showCount ? `(${textLen}/${limit})` : undefined}\n      {...textFieldProps}\n    />\n  );\n};\n\nexport default LimitLengthTextField;\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from \"@mui/material\";\nimport { useCallback, useContext, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { createRoom } from \"../utils/axios\";\nimport { LoadingContext } from \"../utils/context\";\nimport LimitLengthTextField from \"./LimitLengthTextField\";\n\nconst AddRoomDialog = ({ open, onClose }) => {\n  const navigate = useNavigate();\n  const [roomName, setRoomName] = useState(\"\");\n  const { setIsLoading } = useContext(LoadingContext);\n\n  const onClickCreate = () => {\n    setIsLoading(true);\n\n    if (roomName.trim().length === 0) {\n      alert(\"Please set a name.\");\n    }\n\n    createRoom(roomName).then((id) => {\n      setIsLoading(false);\n      navigate(id);\n    });\n  };\n\n  return (\n    <Dialog open={open} PaperProps={{ sx: { padding: 1 } }} onClose={onClose}>\n      <DialogTitle sx={{ pb: 1 }}>Create New Showroom</DialogTitle>\n      <DialogContent>\n        <DialogContentText sx={{ mb: 2 }}>\n          To create a new showroom, please give it a name.\n        </DialogContentText>\n        <img\n          style={{ aspectRatio: 16 / 9, objectFit: \"cover\" }}\n          width=\"100%\"\n          alt=\"default\"\n          src=\"/DSR-Editor/images/default.png\"\n        />\n        <LimitLengthTextField\n          sx={{ mt: 2 }}\n          variant=\"standard\"\n          fullWidth\n          placeholder=\"Showroom name\"\n          value={roomName}\n          onChange={useCallback((e) => {\n            setRoomName(e.target.value);\n          }, [])}\n        />\n      </DialogContent>\n      <DialogActions sx={{ pr: 2 }}>\n        <Button onClick={onClose} color=\"error\">\n          Cancel\n        </Button>\n        <Button onClick={onClickCreate} disabled={!roomName}>\n          Create\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default AddRoomDialog;\n","import { Button, Card, CardActionArea, CardContent, Grid } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport RoomListItem from \"../components/room/RoomListItem\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport AddRoomDialog from \"../components/AddRoomDialog\";\nimport { getRooms } from \"../utils/axios\";\nimport { useOutletContext } from \"react-router-dom\";\n\nconst testRoomList = [\n  {\n    image: \"/DSR-Editor/images/default.png\",\n    name: \"Room 1\",\n    id: \"HomHom\",\n  },\n  {\n    image: \"/DSR-Editor/images/default.png\",\n    name: \"WWWWWWWWWWWWWWWWWWWWWWWWWWWW\",\n    id: \"HomMim\",\n  },\n  {\n    image: \"/DSR-Editor/images/default.png\",\n    name: \"Room 3\",\n    id: \"RedRed\",\n  },\n  {\n    image: \"/DSR-Editor/images/default.png\",\n    name: \"Room 4\",\n    id: \"Doctor\",\n  },\n  {\n    image: \"/DSR-Editor/images/default.png\",\n    name: \"Room 5\",\n    id: \"SongBo\",\n  },\n];\n\nconst Rooms = () => {\n  const { roomList, fetchRooms } = useOutletContext();\n  const [isAddRoomDialogOpen, setIsAddRoomDialogOpen] = useState(false);\n  const gridProps = {\n    item: true,\n    container: true,\n    direction: \"row\",\n    justifyContent: \"center\",\n    xs: 12,\n    md: 6,\n    lg: 4,\n    xl: 3,\n  };\n\n  return (\n    <Box\n      sx={{\n        padding: \"36px 24px\",\n        boxSizing: \"border-box\",\n        width: \"100%\",\n      }}\n    >\n      <Grid\n        container\n        direction=\"row\"\n        sx={{ margin: \"auto\", width: \"90%\", maxWidth: 1600 }}\n      >\n        {roomList ? (\n          <>\n            {roomList.map((room) => (\n              <Grid key={room.id} {...gridProps}>\n                <RoomListItem room={room} refetch={fetchRooms} />\n              </Grid>\n            ))}\n            <Grid\n              {...gridProps}\n              position=\"relative\"\n              color=\"divider\"\n              sx={{ width: \"max-content\" }}\n            >\n              <RoomListItem />\n              <Box\n                sx={{\n                  position: \"absolute\",\n                  top: 0,\n                  width: \"calc(100% - 32px)\",\n                  maxWidth: 360,\n                  height: \"calc(100% - 32px)\",\n                  margin: 2,\n                  backgroundColor: \"background.default\",\n                }}\n              />\n              <Button\n                variant=\"outlined\"\n                color=\"inherit\"\n                sx={{\n                  position: \"absolute\",\n                  top: 0,\n                  width: \"calc(100% - 32px)\",\n                  maxWidth: 360,\n                  height: \"calc(100% - 32px)\",\n                  margin: 2,\n                  borderWidth: 3,\n                }}\n                onClick={() => {\n                  setIsAddRoomDialogOpen(true);\n                }}\n              >\n                <AddIcon sx={{ fontSize: 80 }} />\n              </Button>\n            </Grid>\n          </>\n        ) : (\n          Array.from({ length: 4 }, () => ({})).map((v, i) => (\n            <Grid key={i} {...gridProps}>\n              <RoomListItem />\n            </Grid>\n          ))\n        )}\n      </Grid>\n      <AddRoomDialog\n        open={isAddRoomDialogOpen}\n        onClose={useCallback(() => {\n          setIsAddRoomDialogOpen(false);\n        }, [])}\n      />\n    </Box>\n  );\n};\n\nexport default Rooms;\n","import {\n  Card,\n  CardContent,\n  CardMedia,\n  Skeleton,\n  Typography,\n} from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { useState } from \"react\";\n\nconst CollectionListItem = ({ collection }) => {\n  const { name, thumbnailUri, displayUri, artifactUri, mimeType } =\n    collection ?? {};\n  const skeleton = !name;\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  return (\n    <Card\n      sx={{\n        width: 270,\n        margin: 2,\n        height: \"max-content\",\n      }}\n    >\n      <Box\n        sx={{\n          width: \"100%\",\n          height: \"auto\",\n          position: \"relative\",\n          aspectRatio: \"1\",\n          backgroundColor: \"background.paper\",\n        }}\n      >\n        {!skeleton && (\n          <CardMedia\n            sx={{\n              objectFit: \"contain\",\n              width: \"100%\",\n              height: \"100%\",\n              zIndex: 1,\n              position: \"absolute\",\n              top: 0,\n            }}\n            component={mimeType.includes(\"video\") ? \"video\" : \"img\"}\n            image={\n              mimeType.includes(\"image\") || mimeType.includes(\"video\")\n                ? artifactUri\n                : displayUri ?? thumbnailUri\n            }\n            controls\n            loop\n            loading=\"lazy\"\n            onLoad={() => {\n              setIsLoaded(true);\n            }}\n            onLoadStart={() => {\n              setIsLoaded(true);\n            }}\n          />\n        )}\n        {mimeType?.includes(\"audio\") && (\n          <audio\n            style={{\n              width: \"90%\",\n              height: \"15%\",\n              zIndex: 2,\n              position: \"absolute\",\n              bottom: \"5%\",\n              left: \"5%\",\n            }}\n            src={artifactUri}\n            controls\n          />\n        )}\n        {!isLoaded && (\n          <Skeleton\n            sx={{\n              zIndex: 0,\n              position: \"absolute\",\n              top: 0,\n            }}\n            variant=\"rectangular\"\n            width=\"100%\"\n            height=\"100%\"\n            animation=\"wave\"\n          />\n        )}\n      </Box>\n\n      <CardContent\n        sx={{\n          width: \"100%\",\n          boxSizing: \"border-box\",\n          \"&:last-child\": {\n            paddingBottom: 1.5,\n          },\n        }}\n      >\n        <Typography\n          variant=\"body1\"\n          sx={{\n            mb: 0.5,\n            width: \"100%\",\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n            whiteSpace: \"nowrap\",\n          }}\n        >\n          {skeleton ? <Skeleton /> : name}\n        </Typography>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default CollectionListItem;\n","import {\n  Grid,\n  Box,\n  Pagination,\n  PaginationItem,\n  Typography,\n} from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport CollectionListItem from \"../components/CollectionListItem\";\nimport { getCollections } from \"../utils/axios\";\n\nconst Collections = () => {\n  const [collections, setCollections] = useState({});\n  const [count, setCount] = useState();\n\n  const numPerPage = 24;\n  const location = useLocation();\n  const query = new URLSearchParams(location.search);\n  const page = parseInt(query.get(\"page\") || \"1\", 10);\n\n  useEffect(() => {\n    const offset = (page - 1) * numPerPage;\n\n    if (!collections[page]) {\n      setCollections({\n        [page]: Array.from({ length: numPerPage }, () => ({})),\n        ...collections,\n      });\n    }\n\n    const fetchCollections = async () => {\n      const { tokens, count } = await getCollections({\n        offset,\n      });\n      setCollections({ [page]: tokens, ...collections });\n      setCount(count);\n    };\n    fetchCollections();\n  }, [page]);\n\n  const gridProps = {\n    item: true,\n    container: true,\n    direction: \"row\",\n    justifyContent: \"center\",\n    xs: 12,\n    sm: 6,\n    md: 4,\n    lg: 3,\n    xl: 2,\n  };\n\n  return (\n    <Box\n      sx={{\n        position: \"relative\",\n        padding: \"36px 24px\",\n        boxSizing: \"border-box\",\n        minHeight: \"100%\",\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n      }}\n    >\n      <Grid container direction=\"row\" sx={{ pb: 10 }}>\n        {collections?.[page]?.map((collection, i) => (\n          <Grid key={`collection_${collection?.name ?? i}`} {...gridProps}>\n            <CollectionListItem collection={collection} />\n          </Grid>\n        ))}\n      </Grid>\n      {count === 0 && (\n        <Typography\n          variant=\"h2\"\n          color=\"text.primary\"\n          sx={{ textAlign: \"center\", mt: \"5%\", fontWeight: \"bold\" }}\n        >\n          You don't have any collection!\n        </Typography>\n      )}\n      {(count ?? 0) > numPerPage && (\n        <Pagination\n          color=\"primary\"\n          sx={(theme) => ({\n            zIndex: 100,\n            position: \"fixed\",\n            bottom: 20,\n            borderRadius: \"9999px\",\n            display: \"flex\",\n            backgroundColor: `${theme.palette.background.default}88`,\n            flexDirection: \"row\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            mt: 1.5,\n            padding: 1,\n          })}\n          page={page}\n          count={Math.ceil(count / numPerPage)}\n          renderItem={(item) => (\n            <PaginationItem\n              component={Link}\n              to={`${item.page === 1 ? \"\" : `?page=${item.page}`}`}\n              {...item}\n            />\n          )}\n        />\n      )}\n    </Box>\n  );\n};\n\nexport default Collections;\n","import { useContext, useState } from \"react\";\nimport { EditRoomContext } from \"../../utils/context\";\nimport LimitLengthTextField from \"../LimitLengthTextField\";\n\nconst EditRoomNameTextField = () => {\n  const {\n    name,\n    setName,\n    room: { name: currentName },\n  } = useContext(EditRoomContext);\n  const [showCount, setShowCount] = useState(false);\n\n  return (\n    <LimitLengthTextField\n      value={name}\n      onChange={(e) => {\n        setName(e.target.value);\n      }}\n      multiline\n      fullWidth\n      onFocus={() => {\n        setShowCount(true);\n      }}\n      onBlur={(e) => {\n        setShowCount(false);\n        if (!name.trim()) {\n          setTimeout(() => {\n            setName(currentName);\n          }, 100);\n        }\n      }}\n      showCount={showCount}\n      sx={(theme) => ({\n        mt: -0.5,\n        mb: -0.5,\n        ml: \"-14px\",\n        border: \"none\",\n        \"& > div\": { pt: 0.5, pb: 0.5 },\n        \"& textarea\": { ...theme.typography.h3 },\n        \"& fieldset\": { borderColor: \"transparent\" },\n        \"& .MuiFormHelperText-root\": {\n          position: \"absolute\",\n          right: 0,\n          bottom: -24,\n        },\n      })}\n    />\n  );\n};\n\nexport default EditRoomNameTextField;\n","import { Box, Button } from \"@mui/material\";\nimport { useContext } from \"react\";\nimport { useOutletContext } from \"react-router-dom\";\nimport { EditRoomContext } from \"../../utils/context\";\n\nexport const PLACE_NAME = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\"];\n\nconst EditRoomPlan = () => {\n  const { currentEditPlace, setCurrentEditPlace } = useContext(EditRoomContext);\n\n  const onSelectPlace = (e) => {\n    setCurrentEditPlace(parseInt(e.target.id));\n  };\n\n  return (\n    <Box sx={{ width: \"100%\", height: \"100%\" }}>\n      {PLACE_NAME.map((name, i) => (\n        <Button\n          key={name}\n          id={i}\n          onClick={onSelectPlace}\n          variant={i === currentEditPlace ? \"contained\" : \"outlined\"}\n        >\n          {name}\n        </Button>\n      ))}\n    </Box>\n  );\n};\n\nexport default EditRoomPlan;\n","import { Button, Grid, IconButton, Skeleton, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { useCallback, useContext } from \"react\";\nimport BackIcon from \"@mui/icons-material/ArrowBackIosNewRounded\";\nimport EditRoomNameTextField from \"./EditRoomNameTextField\";\nimport RoomId from \"./RoomId\";\nimport { useNavigate, useOutletContext } from \"react-router-dom\";\nimport { EditRoomContext, LoadingContext } from \"../../utils/context\";\nimport { updateRoom } from \"../../utils/axios\";\nimport EditRoomPlan from \"./EditRoomPlan\";\n\nconst EditRoomMainArea = () => {\n  const { setRoomList } = useOutletContext();\n  const { setIsLoading } = useContext(LoadingContext);\n\n  const navigate = useNavigate();\n  const { name, setName, roomId, isModified, room, meta } =\n    useContext(EditRoomContext);\n\n  const onClickSave = () => {\n    setIsLoading(true);\n    const newData = {};\n    if (name !== room.name) {\n      newData.name = name;\n    }\n    if (\n      (meta?.findIndex(\n        (v, i) =>\n          v.contract !== room.metadata[i].contract ||\n          v.tokenId !== room.metadata[i].tokenId\n      ) ?? -1) !== -1\n    ) {\n      newData.metadata = meta;\n    }\n    updateRoom(roomId, newData).then((room) => {\n      setRoomList((oldRoomList) => {\n        return oldRoomList.map((r) => (r.id === roomId ? room : r));\n      });\n      setIsLoading(false);\n      navigate(\"/rooms\");\n    });\n  };\n\n  return (\n    <Grid\n      container\n      item\n      direction=\"column\"\n      xs={12}\n      md={5.875}\n      lg={4.875}\n      xl={3.875}\n      sx={{ padding: 2 }}\n    >\n      <Box\n        sx={{\n          height: \"max-content\",\n          width: \"100%\",\n        }}\n      >\n        <Box\n          sx={{\n            height: \"max-content\",\n            width: \"100%\",\n            display: \"flex\",\n            flexDirection: \"row\",\n            alignItems: \"center\",\n          }}\n        >\n          <IconButton\n            sx={{ mr: { xs: 1, sm: 2 } }}\n            onClick={useCallback(() => {\n              navigate(\"/rooms\");\n            }, [navigate])}\n          >\n            <BackIcon sx={{ fontSize: { xs: \"1.25rem\", sm: \"1.5rem\" } }} />\n          </IconButton>\n\n          {name !== undefined ? (\n            <EditRoomNameTextField name={name} setName={setName} />\n          ) : (\n            <Typography\n              variant=\"h3\"\n              color=\"text.primary\"\n              sx={{\n                width: \"100%\",\n                overflow: \"hidden\",\n                overflowWrap: \"break-word\",\n              }}\n            >\n              <Skeleton variant=\"text\" />\n            </Typography>\n          )}\n        </Box>\n        <RoomId\n          sx={{\n            fontSize: { sm: \"1.2rem\", xs: \"0.875rem\" },\n            ml: { xs: \"44px\", sm: 7 },\n            mt: { xs: 2, sm: 2.5 },\n            mb: { xs: 3, sm: 5 },\n          }}\n          id={roomId}\n        />\n      </Box>\n      <Box\n        sx={{\n          flexGrow: 1,\n          ml: { xs: 0, md: 7 },\n        }}\n      >\n        <EditRoomPlan />\n      </Box>\n      <Box\n        sx={{\n          mt: 4,\n          mb: 4,\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"flex-end\",\n        }}\n      >\n        <Button variant=\"outlined\" disabled={!isModified} onClick={onClickSave}>\n          Save\n        </Button>\n      </Box>\n    </Grid>\n  );\n};\n\nexport default EditRoomMainArea;\n","import { useState } from \"react\";\n\nexport const COLLECTION_TYPES = [\n  \"image\",\n  // \"image,gif,video,audio,3dmodel,interactive\",\n  \"gif\",\n  \"video\",\n  \"audio\",\n  \"3dmodel\",\n];\n\nconst useCollections = () => {\n  const [imageCollections, setImageCollections] = useState({});\n  const [imageCollectionCounts, setImageCollectionCounts] = useState();\n  const [gifCollections, setGifCollections] = useState({});\n  const [gifCollectionCounts, setGifCollectionCounts] = useState();\n  const [videoCollections, setVideoCollections] = useState({});\n  const [videoCollectionCounts, setVideoCollectionCounts] = useState();\n  const [audioCollections, setAudioCollections] = useState({});\n  const [audioCollectionCounts, setAudioCollectionCounts] = useState();\n  const [modelCollections, setModelCollections] = useState({});\n  const [modelCollectionCounts, setModelCollectionCounts] = useState();\n\n  const collections = [\n    imageCollections,\n    gifCollections,\n    videoCollections,\n    audioCollections,\n    modelCollections,\n  ];\n\n  const setCollections = (type, data, page) => {\n    const { tokens, count } = data;\n    if (typeof type === \"string\") {\n      type = COLLECTION_TYPES.indexOf(type);\n    }\n\n    switch (type) {\n      case 0:\n        setImageCollections({ [page]: tokens, ...imageCollections });\n        setImageCollectionCounts(count);\n        return;\n      case 1:\n        setGifCollections({ [page]: tokens, ...gifCollections });\n        setGifCollectionCounts(count);\n        return;\n      case 2:\n        setVideoCollections({ [page]: tokens, ...videoCollections });\n        setVideoCollectionCounts(count);\n        return;\n      case 3:\n        setAudioCollections({ [page]: tokens, ...audioCollections });\n        setAudioCollectionCounts(count);\n        return;\n      case 4:\n        setModelCollections({ [page]: tokens, ...modelCollections });\n        setModelCollectionCounts(count);\n        return;\n      default:\n        return;\n    }\n  };\n\n  const counts = [\n    imageCollectionCounts,\n    gifCollectionCounts,\n    videoCollectionCounts,\n    audioCollectionCounts,\n    modelCollectionCounts,\n  ];\n\n  return [collections, setCollections, counts];\n};\n\nexport default useCollections;\n","import {\n  Card,\n  CardActionArea,\n  CardContent,\n  CardMedia,\n  Skeleton,\n  Typography,\n} from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { useContext, useState } from \"react\";\nimport { EditRoomContext } from \"../../utils/context\";\nimport { PLACE_NAME } from \"./EditRoomPlan\";\n\nconst EditRoomCollectionListItem = ({ collection }) => {\n  const {\n    contract,\n    tokenId,\n    name,\n    thumbnailUri,\n    displayUri,\n    artifactUri,\n    mimeType,\n  } = collection ?? {};\n  const { meta, setMeta, currentEditPlace } = useContext(EditRoomContext);\n  const skeleton = !name;\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  const place = meta?.findIndex(\n    (v) => v.contract === contract && v.tokenId === tokenId && tokenId\n  );\n\n  const getNewMeta = (index, value) => {\n    return meta.map((v, i) => (i === index ? value : v));\n  };\n\n  const onSelect = () => {\n    if (place === -1) {\n      setMeta(getNewMeta(currentEditPlace, { contract, tokenId }));\n    } else if (place === currentEditPlace) {\n      setMeta(getNewMeta(place, {}));\n    }\n  };\n\n  return (\n    <Card\n      sx={(theme) => ({\n        width: 270,\n        margin: 1.5,\n        height: \"max-content\",\n        cursor:\n          place === -1 || place === currentEditPlace\n            ? \"pointer\"\n            : \"not-allowed\",\n        boxShadow:\n          (place ?? -1) !== -1\n            ? `0px 0px 10px 3px ${theme.palette.primary.main}`\n            : undefined,\n      })}\n      onClick={onSelect}\n    >\n      <Box\n        sx={{\n          width: \"100%\",\n          height: \"auto\",\n          position: \"relative\",\n          aspectRatio: \"1\",\n          backgroundColor: \"background.paper\",\n        }}\n      >\n        {(place ?? -1) !== -1 && (\n          <Box\n            variant=\"h6\"\n            component=\"span\"\n            sx={(theme) => ({\n              zIndex: 5,\n              width: \"auto\",\n              height: \"25%\",\n              position: \"absolute\",\n              top: \"5%\",\n              right: \"5%\",\n              borderRadius: 999,\n              backgroundColor: \"primary.main\",\n              border: \"2px solid white\",\n              textAlign: \"center\",\n              aspectRatio: \"1\",\n              display: \"flex\",\n              flexDirection: \"row\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              color: \"primary.dark\",\n            })}\n          >\n            <Typography variant=\"h6\" lineHeight=\"unset\" fontWeight=\"bold\">\n              {PLACE_NAME[place]}\n            </Typography>\n          </Box>\n        )}\n        {mimeType?.includes(\"audio\") && (\n          <audio\n            style={{\n              width: \"90%\",\n              height: \"15%\",\n              zIndex: 2,\n              position: \"absolute\",\n              bottom: \"5%\",\n              left: \"5%\",\n            }}\n            src={artifactUri}\n            controls\n          />\n        )}\n        {!skeleton && (\n          <CardMedia\n            sx={{\n              zIndex: 1,\n              objectFit: \"contain\",\n              width: \"100%\",\n              height: \"100%\",\n              position: \"absolute\",\n              top: 0,\n            }}\n            alt={name}\n            component=\"img\"\n            image={\n              mimeType.includes(\"image\")\n                ? artifactUri\n                : displayUri ?? thumbnailUri\n            }\n            onLoad={() => {\n              setIsLoaded(true);\n            }}\n          />\n        )}\n        {!isLoaded && (\n          <Skeleton\n            sx={{\n              zIndex: 0,\n              position: \"absolute\",\n              top: 0,\n            }}\n            variant=\"rectangular\"\n            width=\"100%\"\n            height=\"100%\"\n            animation=\"wave\"\n          />\n        )}\n      </Box>\n\n      {/* <CardContent\n        sx={{\n          width: \"100%\",\n          boxSizing: \"border-box\",\n          padding: 1,\n          \"&:last-child\": {\n            paddingBottom: 0.5,\n          },\n        }}\n      >\n        <Typography\n          variant=\"body2\"\n          sx={{\n            mb: 0.5,\n            width: \"100%\",\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n            whiteSpace: \"nowrap\",\n            fontSize: \"0.6rem\",\n          }}\n        >\n          {skeleton ? <Skeleton /> : name}\n        </Typography>\n      </CardContent> */}\n    </Card>\n  );\n};\n\nexport default EditRoomCollectionListItem;\n","import {\n  Box,\n  Button,\n  Grid,\n  Pagination,\n  PaginationItem,\n  Tab,\n  Tabs,\n  Typography,\n  useMediaQuery,\n} from \"@mui/material\";\nimport { useContext, useEffect } from \"react\";\nimport { useOutletContext } from \"react-router-dom\";\nimport { COLLECTION_TYPES } from \"../../hooks/useCollections\";\nimport { EditRoomContext } from \"../../utils/context\";\nimport { useTheme } from \"@mui/material/styles\";\nimport EditRoomCollectionListItem from \"./EditRoomCollectionListItem\";\n\nconst ALLOWED_TYPES = [\n  [0, 1, 2, 3],\n  [0, 1, 2, 3],\n  [0, 1, 2, 3],\n  [0, 1, 2, 3],\n  [4],\n  [4],\n];\n\nconst DISPLAY_COLLECTION_TYPES = [\"image\", \"gif\", \"video\", \"audio\", \"3d model\"];\n\nconst EditRoomCollectionsList = () => {\n  const {\n    collectionTabIndex,\n    setCollectionTabIndex,\n    collectionPage,\n    setCollectionPage,\n    shownCollections,\n    counts,\n  } = useOutletContext();\n  const { currentEditPlace } = useContext(EditRoomContext);\n\n  const theme = useTheme();\n  const isUpMd = useMediaQuery(theme.breakpoints.up(\"md\"));\n\n  const handleChange = (_, newValue) => {\n    setCollectionTabIndex(newValue);\n    setCollectionPage(1);\n  };\n\n  const gridProps = {\n    item: true,\n    container: true,\n    direction: \"row\",\n    justifyContent: \"center\",\n    width: isUpMd ? undefined : \"25vw\",\n    minWidth: isUpMd ? undefined : 120,\n    md: 4,\n    lg: 3,\n    xl: 2,\n  };\n\n  const count = counts[collectionTabIndex];\n\n  const handlePageChange = (_, value) => {\n    setCollectionPage(allowedTypes[value]);\n  };\n\n  const allowedTypes = ALLOWED_TYPES[currentEditPlace];\n\n  useEffect(() => {\n    setCollectionPage(1);\n    setCollectionTabIndex(allowedTypes[0]);\n  }, [currentEditPlace]);\n\n  const tabValue = allowedTypes.indexOf(collectionTabIndex);\n\n  return (\n    <Box\n      sx={{\n        width: \"100%\",\n        height: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        overflow: \"hidden\",\n        position: \"relative\",\n      }}\n    >\n      <Box\n        sx={{\n          width: \"max-content\",\n          ml: { xs: 2.5, lg: 2 },\n          borderBottom: 1,\n          borderColor: \"divider\",\n        }}\n      >\n        <Tabs\n          value={tabValue !== -1 ? tabValue : 0}\n          onChange={handleChange}\n          sx={{\n            minHeight: { xs: 32, lg: 48 },\n\n            \"& button\": {\n              padding: { xs: \"8px 10px\", lg: \"12px 16px\" },\n              minHeight: { xs: 32, lg: 48 },\n              minWidth: { xs: 60, lg: 90 },\n              fontSize: { xs: \"0.5rem\", lg: \"0.875rem\" },\n            },\n          }}\n        >\n          {allowedTypes.map((v, i) => (\n            <Tab\n              key={DISPLAY_COLLECTION_TYPES[v]}\n              label={DISPLAY_COLLECTION_TYPES[v]}\n              tabIndex={i}\n            />\n          ))}\n        </Tabs>\n      </Box>\n      <Box\n        sx={{\n          width: \"100%\",\n          height: \"100%\",\n          overflow: \"scroll\",\n          mt: 2,\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: isUpMd ? \"center\" : \"flex-start\",\n          pb: isUpMd ? 6 : 2,\n        }}\n      >\n        <Grid container direction=\"row\" width={isUpMd ? \"100%\" : \"max-content\"}>\n          {shownCollections?.map((collection, i) => (\n            <Grid key={`collection_${collection?.name ?? i}`} {...gridProps}>\n              <EditRoomCollectionListItem collection={collection} />\n            </Grid>\n          ))}\n        </Grid>\n        {count === 0 && (\n          <Typography\n            variant=\"h6\"\n            color=\"text.primary\"\n            sx={{ textAlign: \"center\", mt: \"5%\", fontWeight: \"bold\" }}\n          >\n            No {COLLECTION_TYPES[collectionTabIndex]} collection!\n          </Typography>\n        )}\n        {(count ?? 0) > 24 && (\n          <Pagination\n            color=\"primary\"\n            sx={(theme) => ({\n              position: \"absolute\",\n              zIndex: 100,\n              bottom: 10,\n              borderRadius: \"9999px\",\n              display: \"flex\",\n              backgroundColor: `${theme.palette.background.default}88`,\n              flexDirection: \"row\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              mt: 1.5,\n              padding: 0.5,\n            })}\n            page={collectionPage}\n            count={Math.ceil(count / 24)}\n            onChange={handlePageChange}\n            size=\"small\"\n          />\n        )}\n      </Box>\n    </Box>\n  );\n};\nexport default EditRoomCollectionsList;\n","import { Grid, useMediaQuery } from \"@mui/material\";\nimport { useOutletContext, useParams } from \"react-router-dom\";\nimport { useTheme } from \"@mui/material/styles\";\nimport { useEffect, useState } from \"react\";\nimport EditRoomMainArea from \"../components/room/EditRoomMainArea\";\nimport { EditRoomContext } from \"../utils/context\";\nimport EditRoomCollectionsList from \"../components/room/EditRoomCollectionsList\";\n\nconst EditRoom = () => {\n  const { roomList } = useOutletContext();\n  const [currentEditPlace, setCurrentEditPlace] = useState(0);\n  const [meta, setMeta] = useState();\n  const [name, setName] = useState();\n  const { roomId } = useParams();\n  const room = roomList?.find((v) => v.id === roomId) ?? {};\n  const { name: currentName, metadata: currentMeta } = room;\n\n  const theme = useTheme();\n  const isUpMd = useMediaQuery(theme.breakpoints.up(\"md\"));\n\n  useEffect(() => {\n    setName(currentName);\n  }, [currentName]);\n\n  useEffect(() => {\n    setMeta(currentMeta);\n  }, [currentMeta]);\n\n  const isModified =\n    (name && name !== currentName) ||\n    (meta?.findIndex(\n      (v, i) =>\n        v.contract !== currentMeta[i].contract ||\n        v.tokenId !== currentMeta[i].tokenId\n    ) ?? -1) !== -1;\n\n  useEffect(() => {\n    const onBeforeUnload = (e) => {\n      if (!isModified) return;\n      e.preventDefault();\n      e.returnValue = \"Changes haven't been saved. Are you sure to leave?\";\n      return e;\n    };\n\n    window.addEventListener(\"beforeunload\", onBeforeUnload);\n\n    return () => {\n      window.removeEventListener(\"beforeunload\", onBeforeUnload);\n    };\n  }, [isModified]);\n\n  useEffect(() => {\n    setCurrentEditPlace(0);\n  }, [setCurrentEditPlace]);\n\n  return (\n    <EditRoomContext.Provider\n      value={{\n        name,\n        setName,\n        roomId,\n        room,\n        isModified,\n        currentEditPlace,\n        setCurrentEditPlace,\n        meta,\n        setMeta,\n      }}\n    >\n      <Grid\n        container\n        direction=\"row\"\n        sx={{\n          height: \"100%\",\n          width: \"100%\",\n          padding: { xs: \"24px 8px\", sm: 4 },\n          boxSizing: \"border-box\",\n        }}\n      >\n        <EditRoomMainArea />\n        {\n          <Grid\n            container\n            item\n            direction=\"row\"\n            md={5.75}\n            lg={6.75}\n            xl={7.75}\n            sx={{\n              height: isUpMd ? \"100%\" : \"max-content\",\n              ml: { md: 2, lg: 3 },\n              pl: { md: 3, lg: 5 },\n              padding: 2,\n              borderLeft: isUpMd ? 1 : \"none\",\n              borderColor: \"divider\",\n              boxSizing: \"border-box\",\n            }}\n          >\n            <EditRoomCollectionsList />\n          </Grid>\n        }\n      </Grid>\n    </EditRoomContext.Provider>\n  );\n};\n\nexport default EditRoom;\n","import { useEffect, useState } from \"react\";\nimport { Outlet, useLocation } from \"react-router-dom\";\nimport useCollections, { COLLECTION_TYPES } from \"../hooks/useCollections\";\nimport { getCollections, getRooms } from \"../utils/axios\";\n\nconst NUM_PER_PAGE = 24;\n\nconst RoomsRoot = () => {\n  const [roomList, setRoomList] = useState();\n  const [collections, setCollections, counts] = useCollections();\n  const [collectionTabIndex, setCollectionTabIndex] = useState(0);\n  const [collectionPage, setCollectionPage] = useState(1);\n  const location = useLocation();\n\n  const fetchRooms = () =>\n    getRooms()\n      .then((rooms) => {\n        setRoomList(rooms);\n      })\n      .catch((e) => {\n        alert(e);\n      });\n\n  useEffect(() => {\n    console.log(\"(Re)fetch rooms...\");\n    fetchRooms();\n  }, [location.pathname]);\n\n  useEffect(() => {\n    const fetchCollections = (page, mimeType) =>\n      getCollections({\n        offset: (page - 1) * 24,\n        mimeTypes: mimeType,\n      }).then((data) => {\n        setCollections(mimeType, data, page);\n      });\n\n    fetchCollections(collectionPage, COLLECTION_TYPES[collectionTabIndex]);\n  }, [collectionTabIndex, collectionPage]);\n\n  const shownCollections =\n    collections?.[collectionTabIndex]?.[collectionPage] ??\n    Array.from({ length: NUM_PER_PAGE }, () => ({}));\n\n  return (\n    <Outlet\n      context={{\n        roomList,\n        setRoomList,\n        fetchRooms,\n        collections,\n        collectionTabIndex,\n        setCollectionTabIndex,\n        collectionPage,\n        setCollectionPage,\n        shownCollections,\n        counts,\n      }}\n    />\n  );\n};\n\nexport default RoomsRoot;\n","import { Backdrop, Box, Portal, Typography } from \"@mui/material\";\nimport { useContext, useReducer, useEffect, useState } from \"react\";\nimport { Navigate, Outlet, Route, Routes, useLocation } from \"react-router-dom\";\nimport HeaderBar from \"../components/HeaderBar\";\nimport { authStatusReducer, AuthDispatcherAction } from \"../utils/AuthReducer\";\nimport { AuthContext, LoadingContext } from \"../utils/context\";\nimport storage, { LS_AUTH_TOKEN } from \"../utils/storage\";\nimport Home from \"./Home\";\nimport NotFound from \"./NotFound\";\nimport Rooms from \"./Rooms\";\nimport jwt from \"jsonwebtoken\";\nimport Collections from \"./Collections\";\nimport { renewJwt } from \"../utils/axios\";\nimport EditRoom from \"./EditRoom\";\nimport RoomsRoot from \"./RoomsRoot\";\n\nconst PrivateRoute = () => {\n  const { authState } = useContext(AuthContext);\n  return authState?.isLoggedIn ? <Outlet /> : <Navigate to=\"/\" replace />;\n};\n\nconst App = () => {\n  const location = useLocation();\n  const [isLoading, setIsLoading] = useState(false);\n\n  const initAuthState = () => {\n    const authToken = storage.authToken;\n    if (authToken && storage.walletAddr) {\n      const { addr } = jwt.decode(authToken) ?? {};\n      if (addr === storage.walletAddr) {\n        return {\n          isLoggedIn: true,\n          walletAddr: addr,\n        };\n      }\n    }\n\n    storage.clearAccountData();\n    return {\n      isLoggedIn: false,\n      walletAddr: \"\",\n    };\n  };\n\n  const [authState, authDispatcher] = useReducer(\n    authStatusReducer,\n    {},\n    initAuthState\n  );\n\n  const checkJwt = () => {\n    renewJwt()\n      .then((token) => {\n        if (jwt.decode(token)?.addr !== storage.walletAddr) {\n          throw new Error(\"Inconsistent address.\");\n        }\n        authDispatcher({\n          type: AuthDispatcherAction.AUTO_SYNC,\n          payload: {\n            token,\n          },\n        });\n      })\n      .catch((e) => {\n        authDispatcher({ type: AuthDispatcherAction.LOGOUT });\n        window.location.reload();\n      });\n  };\n\n  /**\n   * Check Auth On Load\n   */\n  useEffect(() => {\n    console.log(\"Check local account at:\", location.pathname);\n    if (storage.authToken && storage.walletAddr) {\n      checkJwt();\n    } else {\n      authDispatcher({\n        type: AuthDispatcherAction.LOGOUT,\n      });\n    }\n\n    window.scrollTo({\n      top: 0,\n      behavior: \"smooth\",\n    });\n  }, [location]);\n\n  useEffect(() => {\n    function checkLocalStorage(e) {\n      switch (e.key) {\n        case LS_AUTH_TOKEN:\n          onJwtChanged(e.newValue);\n          break;\n        default:\n          break;\n      }\n    }\n\n    const onJwtChanged = (authToken) => {\n      if (authToken && storage.walletAddr) {\n        const { addr } = jwt.decode(authToken);\n\n        if (addr === storage.walletAddr) {\n          authDispatcher({\n            type: AuthDispatcherAction.AUTO_SYNC,\n            payload: {\n              walletAddr: addr,\n              token: authToken,\n            },\n          });\n          return;\n        }\n      }\n\n      authDispatcher({\n        type: AuthDispatcherAction.LOGOUT,\n      });\n    };\n\n    window.addEventListener(\"storage\", checkLocalStorage);\n\n    return () => {\n      window.removeEventListener(\"storage\", checkLocalStorage);\n    };\n  }, []);\n\n  return (\n    <LoadingContext.Provider value={{ isLoading, setIsLoading }}>\n      <AuthContext.Provider value={{ authState, authDispatcher }}>\n        <Portal container={document.body}>\n          <Backdrop\n            sx={{ zIndex: 999999, backgroundColor: \"rgba(0, 0, 0, 0.7)\" }}\n            open={isLoading}\n          >\n            <img\n              width=\"100\"\n              alt=\"loading\"\n              src=\"/DSR-Editor/images/spinner.svg\"\n            />\n          </Backdrop>\n        </Portal>\n        <HeaderBar />\n        <Box\n          sx={{\n            width: \"100%\",\n            height: { xs: \"calc(100% - 56px)\", sm: \"calc(100% - 64px)\" },\n            mt: { xs: 7, sm: 8 },\n            boxSizing: \"border-box\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            overflow: \"auto\",\n            scrollBehavior: \"smooth\",\n          }}\n        >\n          <Routes>\n            <Route path=\"/\" element={<Outlet />}>\n              <Route index element={<Home />} />\n              <Route path=\"rooms\" element={<PrivateRoute />}>\n                <Route path=\"\" element={<RoomsRoot />}>\n                  <Route index element={<Rooms />} />\n                  <Route path=\":roomId\" element={<EditRoom />} />\n                </Route>\n              </Route>\n              <Route path=\"collections\" element={<PrivateRoute />}>\n                <Route path=\"\" element={<Collections />} />\n              </Route>\n            </Route>\n            <Route path=\"*\" element={<NotFound />} />\n          </Routes>\n        </Box>\n      </AuthContext.Provider>\n    </LoadingContext.Provider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createTheme, responsiveFontSizes } from \"@mui/material/styles\";\n\nexport const darkTheme = responsiveFontSizes(\n  createTheme({\n    palette: {\n      mode: \"dark\",\n      common: {\n        black: \"#000\",\n        white: \"rgba(255, 255, 255, 0.8)\",\n      },\n      primary: {\n        main: \"#78e5fe\",\n        dark: \"#266d7d\",\n      },\n      secondary: {\n        main: \"rgba(255, 255, 255, 0.7)\",\n      },\n      error: {\n        main: \"#f44336\",\n        light: \"#e57373\",\n        dark: \"#d32f2f\",\n        contrastText: \"rgba(255, 255, 255, 0.8)\",\n      },\n      warning: {\n        main: \"#ffa726\",\n        light: \"#ffb74d\",\n        dark: \"#f57c00\",\n        contrastText: \"rgba(0, 0, 0, 0.87)\",\n      },\n      info: {\n        main: \"#29b6f6\",\n        light: \"#4fc3f7\",\n        dark: \"#0288d1\",\n        contrastText: \"rgba(0, 0, 0, 0.87)\",\n      },\n      success: {\n        main: \"#66bb6a\",\n        light: \"#81c784\",\n        dark: \"#388e3c\",\n        contrastText: \"rgba(0, 0, 0, 0.87)\",\n      },\n      grey: {\n        50: \"#fafafa\",\n        100: \"#f5f5f5\",\n        200: \"#eeeeee\",\n        300: \"#e0e0e0\",\n        400: \"#bdbdbd\",\n        500: \"#9e9e9e\",\n        600: \"#757575\",\n        700: \"#616161\",\n        800: \"#424242\",\n        900: \"#212121\",\n        A100: \"#f5f5f5\",\n        A200: \"#eeeeee\",\n        A400: \"#bdbdbd\",\n        A700: \"#616161\",\n      },\n      contrastThreshold: 3,\n      tonalOffset: 0.2,\n      text: {\n        primary: \"rgba(255, 255, 255, 1)\",\n        secondary: \"rgba(255, 255, 255, 0.6)\",\n        disabled: \"rgba(255, 255, 255, 0.4)\",\n        icon: \"rgba(255, 255, 255, 0.5)\",\n      },\n      divider: \"rgba(255, 255, 255, 0.12)\",\n      background: {\n        popup: \"#242424\",\n        paper: \"#161616\",\n        default: \"#121212\",\n      },\n      action: {\n        active: \"rgba(255, 255, 255, 0.8)\",\n        hover: \"rgba(255, 255, 255, 0.08)\",\n        hoverOpacity: 0.08,\n        selected: \"rgba(255, 255, 255, 0.16)\",\n        selectedOpacity: 0.16,\n        disabled: \"rgba(255, 255, 255, 0.3)\",\n        disabledBackground: \"rgba(255, 255, 255, 0.12)\",\n        disabledOpacity: 0.38,\n        focus: \"rgba(255, 255, 255, 0.12)\",\n        focusOpacity: 0.12,\n        activatedOpacity: 0.24,\n      },\n    },\n    overrides: {},\n  })\n);\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./containers/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { ThemeProvider } from \"@mui/material/styles\";\nimport { darkTheme } from \"./theme\";\nimport { HashRouter } from \"react-router-dom\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  <HashRouter>\n    <ThemeProvider theme={darkTheme}>\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    </ThemeProvider>\n  </HashRouter>\n);\n\nif (process.env.NODE_ENV === \"production\") {\n  console.log(\"console.log closed.\");\n  console.log = () => {};\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}