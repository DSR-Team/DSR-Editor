(this["webpackJsonpdsr-editor"]=this["webpackJsonpdsr-editor"]||[]).push([[0],{219:function(t,e){},327:function(t,e,n){},354:function(t,e){},360:function(t,e){},362:function(t,e){},372:function(t,e){},374:function(t,e){},384:function(t,e){},385:function(t,e){},428:function(t,e){},430:function(t,e){},437:function(t,e){},438:function(t,e){},518:function(t,e,n){"use strict";n.r(e);var a=n(1),o=n.n(a),r=n(283),c=n.n(r),i=(n(327),n(14)),s=n(569),l=n(596),d=n(568),u=n(31),b=n(567),j=n(532),h=n(588),p=n(590),x=n(584),f=n(64),g=Object(a.createContext)({authState:{isLoggedIn:!1,walletAddr:""},authDispatcher:function(){}}),O=Object(a.createContext)({isLoading:!1,setIsLoading:function(){}}),m=n(144),v=n.n(m),w="atk",y="addr",k={};Object.defineProperty(k,"authToken",{get:function(){return localStorage.getItem(w)},set:function(t){localStorage.setItem(w,t)}}),Object.defineProperty(k,"walletAddr",{get:function(){return v.a.load(y)},set:function(t){v.a.save(y,t,{path:"/"})}}),k.clearAccountData=function(){localStorage.removeItem(w),v.a.remove(y)};var C=k,S=function(t,e){var n,a=e.type,o=e.payload;console.log("dispatcher got state: ",a);var r=null!==(n=null===o||void 0===o?void 0:o.walletAddr)&&void 0!==n?n:"",c=null===o||void 0===o?void 0:o.token;switch(a){case A.AUTO_SYNC:return c?(C.authToken=c,t):t;case A.LOGIN:return C.authToken=c,C.walletAddr=r,{isLoggedIn:!0,walletAddr:r};case A.LOGOUT:return C.clearAccountData(),{isLoggedIn:!1,walletAddr:""};default:return t}},A={AUTO_SYNC:0,LOGIN:1,LOGOUT:2},I=n(57),L=n(0),D=n.n(L),T=n(97),z=n(292),R=n(301),E=n(6),P=n(5),G=n(9),W=n(10),U=n(17),F=n(295),N=n.n(F),B=(n(490),N.a.create({baseURL:"https://stormy-temple-44410.herokuapp.com/"}));B.interceptors.request.use((function(t){var e=C.authToken;return t.headers.Authorization=e?"Bearer ".concat(e):"",t}));var _=function(t){Object(G.a)(n,t);var e=Object(W.a)(n);function n(t){var a;for(var o in Object(P.a)(this,n),a=e.call(this),t)a.append(o,t[o]);return a}return Object(E.a)(n)}(Object(U.a)(FormData)),q=function(){var t=Object(I.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.get("/renew_token").then((function(t){return t.data.access_token}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=function(){var t=Object(I.a)(D.a.mark((function t(e){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.get("/login/".concat(e,"/payload")).then((function(t){return t.data.payload}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=function(){var t=Object(I.a)(D.a.mark((function t(e,n){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.post("/login",new _({address:e,signature:n})).then((function(t){return t.data.access_token}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),H=function(){var t=Object(I.a)(D.a.mark((function t(e){var n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.offset,t.next=3,B.get("/collections",{params:{offset:n}}).then((function(t){return t.data}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),J=function(){var t=Object(I.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.get("/rooms").then((function(t){return t.data}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),V=function(){var t=Object(I.a)(D.a.mark((function t(e,n){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.post("/rooms/create",new _({name:e,image:null!==n&&void 0!==n?n:""})).then((function(t){return t.data.id}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),K=new T.a("https://mainnet-tezos.giganode.io"),Q=new z.a({name:"D Showroom"});K.setWalletProvider(Q);var X=function(){var t=Object(a.useContext)(O).setIsLoading,e=Object(a.useContext)(g),n=(e.authState,e.authDispatcher),o=Object(a.useState)(""),r=Object(i.a)(o,2),c=r[0],s=r[1],l=function(){var t=Object(I.a)(D.a.mark((function t(){var e,n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.client.getActiveAccount();case 2:(e=t.sent)?(n=e.address,c===n?console.log("Already connected: ",n):console.log("Another wallet connected: ",n)):console.log("No wallet connnection!");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){var e=Object(I.a)(D.a.mark((function e(){var a,o,r,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.prev=1,console.log("Requesting permissions..."),e.next=5,Q.client.requestPermissions();case 5:return a=e.sent,o=a.address,s(o),console.log("Get permission. Get payload..."),e.next=11,M(o);case 11:return r=e.sent,console.log("Get payload. Request signature..."),e.next=15,Q.client.requestSignPayload({signingType:R.a.MICHELINE,payload:r});case 15:return c=e.sent,console.log("Get signature. Try login..."),e.next=19,Y(o,c.signature).then((function(t){console.log("Login suceed!"),n({type:A.LOGIN,payload:{walletAddr:o,token:t}})}));case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(1),s(""),console.log("Got error:",e.t0);case 25:t(!1);case 26:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(){return e.apply(this,arguments)}}();return{walletAddr:c,connectWallet:d,checkWalletConnection:l}},Z=n(45),$=n(4),tt=function(t){var e=t.children,n=t.to,a=Object(u.g)().pathname===n,o=Object(Z.a)(),r=Object(b.a)(o.breakpoints.up("sm"));return Object($.jsx)(f.b,{to:n,children:Object($.jsx)(j.a,{color:a?"text.primary":"text.secondary",sx:{fontSize:r?"1rem":"0.75rem",mr:4,fontWeight:"bold",position:"relative","&::after":a?{position:"absolute",content:"''",height:2,bottom:-3,margin:"0 auto",left:0,right:0,width:"100%",backgroundColor:"text.primary"}:{}},children:e})})},et=function(){var t,e,n,o=Object(a.useContext)(g),r=o.authState,c=o.authDispatcher,i=X().connectWallet,s=Object(Z.a)(),l=Object(b.a)(s.breakpoints.up("sm"));return Object($.jsx)(h.a,{color:"default",enableColorOnDark:!0,children:Object($.jsxs)(p.a,{children:[Object($.jsx)(f.b,{to:"/",children:Object($.jsx)("img",{style:{height:l?48:40},src:l?"/DSR-Editor/logo_full.svg":"/DSR-Editor/logo.svg",alt:"D SHOWROOM"})}),Object($.jsx)(j.a,{sx:{flexGrow:1}}),null!==r&&void 0!==r&&r.isLoggedIn?Object($.jsxs)($.Fragment,{children:[Object($.jsx)(tt,{to:"/rooms",children:"Rooms"}),Object($.jsx)(tt,{to:"/collections",children:"Collections"}),Object($.jsx)(x.a,{variant:"outlined",sx:{textTransform:"none"},onDoubleClick:function(){c({type:A.LOGOUT})},children:l?(null===r||void 0===r||null===(t=r.walletAddr)||void 0===t?void 0:t.slice(0,5))+"..."+(null===r||void 0===r||null===(e=r.walletAddr)||void 0===e?void 0:e.slice(-5)):"..."+(null===r||void 0===r||null===(n=r.walletAddr)||void 0===n?void 0:n.slice(-3))})]}):Object($.jsx)(x.a,{variant:"outlined",onClick:function(){i()},children:"Connect"})]})})},nt=n(47),at=function(t){var e=t.arrowNum,n=void 0===e?3:e,a=t.size,o=void 0===a?30:a,r=t.color,c=void 0===r?"primary.main":r,i=t.sx;return Object($.jsx)(d.a,{sx:Object(nt.a)({position:"relative",width:1.414*o*7/6,height:1.414*o*7/6*(n/2+.5)+o*(2/3*1.414)},i),children:Object($.jsx)(d.a,{sx:{position:"absolute",left:"50%",top:"40%",transform:"translate(-50%, -50%)","@keyframes animate":{"0%":{opacity:0,transform:"rotate(45deg) translate(".concat(2*-o/3,"px, ").concat(2*-o/3,"px)")},"50%":{opacity:1},"100%":{opacity:0,transform:"rotate(45deg) translate(".concat(2*o/3,"px, ").concat(2*o/3,"px)")}}},children:Array.from({length:n},(function(){return{}})).map((function(t,e){return Object($.jsx)(d.a,{component:"span",sx:{display:"block",width:o,height:o,borderBottomWidth:o/6,borderRightWidth:o/6,borderBottomStyle:"solid",borderRightStyle:"solid",borderColor:c,transform:"rotate(45deg)",margin:"".concat(-o/3,"px"),animation:"animate 1.5s infinite",animationDelay:"".concat(-.2*e,"s")}})}))})})},ot=function(){var t=Object(u.h)(),e=Object(a.useContext)(g).authState,n=X().connectWallet;return Object($.jsxs)(d.a,{sx:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object($.jsx)(j.a,{variant:"h1",color:"text.primary",sx:{textAlign:"center"},children:"Welcome to DSR."}),Object($.jsx)(at,{arrowNum:2,size:20,color:"secondary.main",sx:{mt:2}}),Object($.jsx)(x.a,{sx:{textAlign:"center",padding:2,mt:2.5},size:"large",onClick:null!==e&&void 0!==e&&e.isLoggedIn?function(e){t("/rooms"),e.preventDefault()}:n,href:"/rooms",children:Object($.jsx)(j.a,{variant:"h5",children:null!==e&&void 0!==e&&e.isLoggedIn?"Get Started":"Connect to Start"})})]})},rt=function(){return Object($.jsxs)(d.a,{sx:{width:"100%",height:"100%"},children:[Object($.jsx)(d.a,{component:"img",src:"/DSR-Editor/images/test.jpg",sx:{width:"100%",height:"100%",objectFit:"cover",position:"absolute",zIndex:-1}}),Object($.jsx)(j.a,{variant:"h2",color:"text.primary",sx:{textAlign:"center",mt:"5%",fontWeight:"bold"},children:"Nothing here!!!"})]})},ct=n(585),it=n(576),st=n(591),lt=n(592),dt=n(593),ut=n(594),bt=n(578),jt=n(595),ht=n(582),pt=n(296),xt=n.n(pt),ft=n(298),gt=n.n(ft),Ot=n(297),mt=n.n(Ot),vt=function(t){var e,n=t.room,o=null!==n&&void 0!==n?n:{},r=o.image,c=o.name,s=o.id,l=Object(a.useState)(!1),u=Object(i.a)(l,2),b=u[0],h=u[1],p=!c,x=Object(a.useState)(!1),f=Object(i.a)(x,2),g=f[0],O=f[1];return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(st.a,{sx:{width:360,margin:2},raised:!0,children:[Object($.jsxs)(d.a,{sx:{width:"100%",height:210,position:"relative",aspectRatio:"1",backgroundColor:"background.paper"},children:[!p&&Object($.jsx)(lt.a,{component:"img",loading:"lazy",sx:{objectFit:"cover",width:"100%",height:"100%",zIndex:1,position:"absolute",top:0},onLoad:function(){O(!0)},image:(null!==(e=null===r||void 0===r?void 0:r.length)&&void 0!==e?e:0)>0?r:"/DSR-Editor/images/default.png"}),!g&&Object($.jsx)(dt.a,{sx:{zIndex:0,position:"absolute",top:0},variant:"rectangular",width:"100%",height:"100%",animation:"wave"})]}),Object($.jsxs)(ut.a,{sx:{pt:1,"&:last-child":{paddingBottom:1.5},position:"relative"},children:[Object($.jsx)(j.a,{variant:"h6",sx:{mb:.5,width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:p?Object($.jsx)(dt.a,{}):c}),p?Object($.jsx)(dt.a,{width:"40%"}):Object($.jsx)(bt.a,{title:"Click to copy",arrow:!0,followCursor:!0,children:Object($.jsxs)(j.a,{variant:"body2",color:"text.secondary",sx:{width:"fit-content",display:"flex",flexDirection:"row",alignItems:"center",cursor:"pointer","&:hover":{color:"text.primary",textDecoration:"underline dotted 2px"}},onClick:function(){navigator.clipboard.writeText(s).then((function(){h(!0)}))},children:[Object($.jsx)(xt.a,{fontSize:"small",sx:{mr:.5}}),s]})}),!p&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)(bt.a,{title:"Delete",placement:"top",arrow:!0,componentsProps:{tooltip:{style:{marginBottom:8}}},children:Object($.jsx)(jt.a,{color:"error",size:"small",sx:{position:"absolute",right:48,bottom:8},children:Object($.jsx)(mt.a,{})})}),Object($.jsx)(bt.a,{title:"Edit",placement:"top",arrow:!0,componentsProps:{tooltip:{style:{marginBottom:8}}},children:Object($.jsx)(jt.a,{color:"primary",size:"small",sx:{position:"absolute",right:8,bottom:8},children:Object($.jsx)(gt.a,{})})})]})]})]}),Object($.jsx)(ht.a,{open:b,autoHideDuration:1e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:Object(a.useCallback)((function(){h(!1)}),[]),message:"Room ID copied",sx:{"& .MuiPaper-root":{minWidth:"min-content",pl:3,pr:3}}})]})},wt=n(300),yt=n.n(wt),kt=n(597),Ct=n(575),St=n(598),At=n(599),It=n(600),Lt=n(299),Dt=n(579),Tt=["limit","value","onChange"],zt=function(t){var e=t.limit,n=void 0===e?32:e,o=(t.value,t.onChange),r=Object(Lt.a)(t,Tt),c=Object(a.useState)(""),s=Object(i.a)(c,2),l=s[0],d=s[1],u=Object(a.useState)(!1),b=Object(i.a)(u,2),j=b[0],h=b[1],p=Object(a.useState)(l.length),x=Object(i.a)(p,2),f=x[0],g=x[1],O=function(t){var e=function(t,e){var n=[];return t.split("").forEach((function(t){t.match(/[\u0000-\u00ff]/)?n.push(t):n.push("",t)})),n.slice(0,e).join("")}(t.target.value,n);if(!j){t.target.value=e;var a=0;e.split("").forEach((function(t){t.match(/[\u0000-\u00ff]/)?a+=1:a+=2})),g(a)}d(e),null===o||void 0===o||o(t)};return Object($.jsx)(Dt.a,Object(nt.a)({value:l,onChange:O,inputProps:{onCompositionStart:Object(a.useCallback)((function(t){h(!0)}),[]),onCompositionEnd:Object(a.useCallback)((function(t){O(t),h(!1)}),[]),onBlur:Object(a.useCallback)((function(t){t.target.value=t.target.value.trim(),O(t)}),[])},helperText:"(".concat(f,"/").concat(n,")")},r))},Rt=function(t){var e=t.open,n=t.onClose,o=Object(u.h)(),r=Object(a.useState)(""),c=Object(i.a)(r,2),s=c[0],l=c[1],d=Object(a.useContext)(O).setIsLoading;return Object($.jsxs)(kt.a,{open:e,PaperProps:{sx:{padding:1}},onClose:n,children:[Object($.jsx)(Ct.a,{sx:{pb:1},children:"Create New Showroom"}),Object($.jsxs)(St.a,{children:[Object($.jsx)(At.a,{sx:{mb:2},children:"To create a new showroom, please give it a name."}),Object($.jsx)("img",{style:{aspectRatio:16/9,objectFit:"cover"},width:"100%",alt:"default",src:"/DSR-Editor/images/default.png"}),Object($.jsx)(zt,{sx:{mt:2},variant:"standard",fullWidth:!0,placeholder:"Showroom name",value:s,onChange:Object(a.useCallback)((function(t){l(t.target.value)}),[])})]}),Object($.jsxs)(It.a,{sx:{pr:2},children:[Object($.jsx)(x.a,{onClick:n,color:"error",children:"Cancel"}),Object($.jsx)(x.a,{onClick:function(){d(!0),0===s.trim().length&&alert("Please set a name."),V(s).then((function(t){d(!1),o("/rooms/".concat(t))}))},disabled:!s,children:"Create"})]})]})},Et=function(){var t=Object(a.useState)(),e=Object(i.a)(t,2),n=e[0],o=e[1],r=Object(a.useState)(!1),c=Object(i.a)(r,2),s=c[0],l=c[1],d={item:!0,container:!0,direction:"row",justifyContent:"center",xs:12,md:6,lg:4,xl:3};return Object(a.useEffect)((function(){J().then((function(t){o(t)})).catch((function(t){alert(t)}))}),[]),Object($.jsxs)(it.a,{sx:{padding:"36px 24px",boxSizing:"border-box",width:"100%"},children:[Object($.jsx)(ct.a,{container:!0,direction:"row",sx:{margin:"auto",width:"90%",maxWidth:1600},children:n?Object($.jsxs)($.Fragment,{children:[n.map((function(t){return Object($.jsx)(ct.a,Object(nt.a)(Object(nt.a)({},d),{},{children:Object($.jsx)(vt,{room:t})}),t.id)})),Object($.jsx)(ct.a,Object(nt.a)(Object(nt.a)({},d),{},{color:"divider",children:Object($.jsx)(x.a,{variant:"outlined",color:"inherit",sx:{width:360,height:286,margin:2,borderWidth:3},onClick:function(){l(!0)},children:Object($.jsx)(yt.a,{sx:{fontSize:80}})})}))]}):Array.from({length:4},(function(){return{}})).map((function(t,e){return Object($.jsx)(ct.a,Object(nt.a)(Object(nt.a)({},d),{},{children:Object($.jsx)(vt,{})}),e)}))}),Object($.jsx)(Rt,{open:s,onClose:Object(a.useCallback)((function(){l(!1)}),[])})]})},Pt=n(145),Gt=n.n(Pt),Wt=n(586),Ut=n(581),Ft=function(t){var e=t.collection,n=null!==e&&void 0!==e?e:{},o=n.name,r=n.thumbnailUri,c=n.displayUri,s=n.artifactUri,l=n.mimeType,d=!o,u=Object(a.useState)(!1),b=Object(i.a)(u,2),h=b[0],p=b[1];return Object($.jsxs)(st.a,{sx:{width:270,margin:2,height:"max-content"},children:[Object($.jsxs)(it.a,{sx:{width:"100%",height:"auto",position:"relative",aspectRatio:"1",backgroundColor:"background.paper"},children:[!d&&Object($.jsx)(lt.a,{sx:{objectFit:"contain",width:"100%",height:"100%",zIndex:1,position:"absolute",top:0},component:l.includes("video")?"video":"img",image:l.includes("image")||l.includes("video")?s:null!==c&&void 0!==c?c:r,controls:!0,loop:!0,loading:"lazy",onLoad:function(){p(!0)},onLoadStart:function(){p(!0)}}),!h&&Object($.jsx)(dt.a,{sx:{zIndex:0,position:"absolute",top:0},variant:"rectangular",width:"100%",height:"100%",animation:"wave"})]}),Object($.jsx)(ut.a,{sx:{width:"100%",boxSizing:"border-box","&:last-child":{paddingBottom:1.5}},children:Object($.jsx)(j.a,{variant:"body1",sx:{mb:.5,width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:d?Object($.jsx)(dt.a,{}):o})})]})},Nt=function(){var t=Object(a.useState)(),e=Object(i.a)(t,2),n=e[0],o=e[1],r=Object(a.useState)(),c=Object(i.a)(r,2),s=c[0],l=c[1],b=Object(u.g)(),h=new URLSearchParams(b.search),p=parseInt(h.get("page")||"1",10);Object(a.useEffect)((function(){var t=24*(p-1);o(Array.from({length:24},(function(){return{}})));var e=function(){var e=Object(I.a)(D.a.mark((function e(){var n,a,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({offset:t});case 2:n=e.sent,a=n.tokens,r=n.count,o(a),l(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[p]);var x={item:!0,container:!0,direction:"row",justifyContent:"center",xs:12,sm:6,md:4,lg:3,xl:2};return Object($.jsxs)(d.a,{sx:{position:"relative",padding:"36px 24px",boxSizing:"border-box",width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object($.jsx)(ct.a,{container:!0,direction:"row",sx:{margin:"auto"},children:null===n||void 0===n?void 0:n.map((function(t,e){var n;return Object($.jsx)(ct.a,Object(nt.a)(Object(nt.a)({},x),{},{children:Object($.jsx)(Ft,{collection:t})}),"collection_".concat(null!==(n=null===t||void 0===t?void 0:t.name)&&void 0!==n?n:e))}))}),0===s&&Object($.jsx)(j.a,{variant:"h2",color:"text.primary",sx:{textAlign:"center",mt:"5%",fontWeight:"bold"},children:"You don't have any collection!"}),(null!==s&&void 0!==s?s:0)>24&&Object($.jsx)(Wt.a,{color:"primary",sx:function(t){return{zIndex:100,position:"sticky",bottom:20,borderRadius:"9999px",display:"flex",backgroundColor:"".concat(t.palette.background.default,"88"),flexDirection:"row",justifyContent:"center",alignItems:"center",mt:1.5,padding:1}},page:p,count:Math.ceil(s/24),renderItem:function(t){return Object($.jsx)(Ut.a,Object(nt.a)({component:f.b,to:"".concat(1===t.page?"":"?page=".concat(t.page))},t))}})]})},Bt=function(){var t=Object(a.useContext)(g).authState;return null!==t&&void 0!==t&&t.isLoggedIn?Object($.jsx)(u.b,{}):Object($.jsx)(u.a,{to:"/",replace:!0})},_t=function(){var t=Object(u.g)(),e=Object(a.useState)(!1),n=Object(i.a)(e,2),o=n[0],r=n[1],c=Object(a.useReducer)(S,{},(function(){var t=C.authToken;if(t&&C.walletAddr){var e,n=(null!==(e=Gt.a.decode(t))&&void 0!==e?e:{}).addr;if(n===C.walletAddr)return{isLoggedIn:!0,walletAddr:n}}return C.clearAccountData(),{isLoggedIn:!1,walletAddr:""}})),b=Object(i.a)(c,2),j=b[0],h=b[1];return Object(a.useEffect)((function(){console.log("Check local account at:",t.pathname),C.authToken&&C.walletAddr?q().then((function(t){var e;if((null===(e=Gt.a.decode(t))||void 0===e?void 0:e.addr)!==C.walletAddr)throw new Error("Inconsistent address.");h({type:A.AUTO_SYNC,payload:{token:t}})})).catch((function(t){h({type:A.LOGOUT}),window.location.reload()})):h({type:A.LOGOUT}),window.scrollTo({top:0,behavior:"smooth"})}),[t]),Object(a.useEffect)((function(){function t(t){if(t.key===w)e(t.newValue)}var e=function(t){if(t&&C.walletAddr){var e=Gt.a.decode(t).addr;if(e===C.walletAddr)return void h({type:A.AUTO_SYNC,payload:{walletAddr:e,token:t}})}h({type:A.LOGOUT})};return window.addEventListener("storage",t),function(){window.removeEventListener("storage",t)}}),[]),Object($.jsx)(O.Provider,{value:{isLoading:o,setIsLoading:r},children:Object($.jsxs)(g.Provider,{value:{authState:j,authDispatcher:h},children:[Object($.jsx)(s.a,{container:document.body,children:Object($.jsx)(l.a,{sx:{zIndex:999999,backgroundColor:"rgba(0, 0, 0, 0.7)"},open:o,children:Object($.jsx)("img",{width:"100",alt:"loading",src:"/DSR-Editor/images/spinner.svg"})})}),Object($.jsx)(et,{}),Object($.jsx)(d.a,{sx:{width:"100%",height:"calc(100% - 56px)",mt:"56px",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",overflow:"auto",scrollBehavior:"smooth"},children:Object($.jsxs)(u.e,{children:[Object($.jsx)(u.c,{path:"/",element:Object($.jsx)(ot,{})}),Object($.jsx)(u.c,{path:"/rooms",element:Object($.jsx)(Bt,{}),children:Object($.jsx)(u.c,{path:"/rooms",element:Object($.jsx)(Et,{})})}),Object($.jsx)(u.c,{path:"/collections",element:Object($.jsx)(Bt,{}),children:Object($.jsx)(u.c,{path:"/collections",element:Object($.jsx)(Nt,{})})}),Object($.jsx)(u.c,{path:"*",element:Object($.jsx)(rt,{})})]})})]})})},qt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,601)).then((function(e){var n=e.getCLS,a=e.getFID,o=e.getFCP,r=e.getLCP,c=e.getTTFB;n(t),a(t),o(t),r(t),c(t)}))},Mt=n(587),Yt=n(577),Ht=n(184),Jt=Object(Yt.a)(Object(Ht.a)({palette:{mode:"dark",common:{black:"#000",white:"rgba(255, 255, 255, 0.8)"},primary:{main:"#78e5fe"},secondary:{main:"rgba(255, 255, 255, 0.7)"},error:{main:"#f44336",light:"#e57373",dark:"#d32f2f",contrastText:"rgba(255, 255, 255, 0.8)"},warning:{main:"#ffa726",light:"#ffb74d",dark:"#f57c00",contrastText:"rgba(0, 0, 0, 0.87)"},info:{main:"#29b6f6",light:"#4fc3f7",dark:"#0288d1",contrastText:"rgba(0, 0, 0, 0.87)"},success:{main:"#66bb6a",light:"#81c784",dark:"#388e3c",contrastText:"rgba(0, 0, 0, 0.87)"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},contrastThreshold:3,tonalOffset:.2,text:{primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.6)",disabled:"rgba(255, 255, 255, 0.4)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{popup:"#242424",paper:"#161616",default:"#121212"},action:{active:"rgba(255, 255, 255, 0.8)",hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}},overrides:{}}));c.a.createRoot(document.getElementById("root")).render(Object($.jsx)(f.a,{children:Object($.jsx)(Mt.a,{theme:Jt,children:Object($.jsx)(o.a.StrictMode,{children:Object($.jsx)(_t,{})})})})),qt()}},[[518,1,2]]]);
//# sourceMappingURL=main.c9584163.chunk.js.map